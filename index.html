<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Serenity Woods ‚Äì Find your calm in the wild</title>
 <style>
:root {
  --gold: #f4d35e;
  --brown: #5c3b0f;
  --amber: #cf9d29;
  --cream: #f8f2e4;
  --cream-soft: #faf5ea;
  --text-main: #3b2a17;
  --text-soft: #7b6751;
  --border-soft: #e2d3be;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: "Georgia", serif;
  background: radial-gradient(circle at top, #fdf6e6 0, var(--cream) 45%, #f1e3cc 100%);
  color: var(--text-main);
}

/* SHELL GLOBAL */
.app-shell {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  min-height: 100vh;
  background: #fffdf7;
  display: flex;
  flex-direction: column;
}

/* HEADER */
.app-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px 8px;
  background: linear-gradient(120deg, #fff8ea, #f5ebd6);
  border-bottom: 1px solid #e4d4bc;
  position: sticky;
  top: 0;
  z-index: 30;
}

.app-header-left {
  display: flex;
  align-items: center;
  gap: 16px;
}

.app-logo-title {
  display: flex;
  align-items: center;
  gap: 8px;
}

.logo {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid var(--brown);
  object-fit: cover;
}

.brand-text {
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}
.brand-main {
  font-size: 1rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--brown);
}
.brand-sub {
  font-size: 0.7rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-soft);
  font-family: "Montserrat", system-ui, sans-serif;
}

.main-nav {
  display: none;
  gap: 16px;
}
.nav-link {
  font-family: "Montserrat", system-ui, sans-serif;
  font-size: 0.8rem;
  color: var(--text-soft);
  text-decoration: none;
  padding-bottom: 3px;
}
.nav-link:hover {
  color: var(--brown);
  border-bottom: 2px solid var(--amber);
}

.app-header-right {
  display: flex;
  align-items: center;
  gap: 10px;
}

.lang-switcher {
  display: flex;
  gap: 4px;
}
.lang-btn {
  border-radius: 999px;
  border: 1px solid #e0d0b9;
  background: #fff8ec;
  font-size: 0.68rem;
  font-family: "Montserrat", system-ui, sans-serif;
  padding: 3px 7px;
  cursor: pointer;
  color: var(--text-soft);
}
.lang-btn.active {
  background: var(--brown);
  color: #fff;
  border-color: var(--brown);
}

.primary-btn {
  border-radius: 999px;
  border: none;
  background: linear-gradient(120deg, var(--brown), var(--amber));
  color: #fff;
  font-size: 0.82rem;
  font-family: "Montserrat", system-ui, sans-serif;
  padding: 8px 18px;
  cursor: pointer;
  box-shadow: 0 8px 18px rgba(92,59,15,0.25);
}
.primary-btn-small {
  padding: 6px 12px;
  font-size: 0.75rem;
  box-shadow: 0 5px 14px rgba(92,59,15,0.2);
}
.primary-btn:disabled {
  opacity: 0.55;
  cursor: default;
  box-shadow: none;
}

.secondary-btn {
  border-radius: 999px;
  border: 1px solid #e0d0b9;
  background: #fdf6ea;
  font-size: 0.8rem;
  font-family: "Montserrat", system-ui, sans-serif;
  padding: 6px 14px;
  cursor: pointer;
  color: var(--text-soft);
}

.profile-icon {
  border-radius: 999px;
  border: 1px solid #e0d0b9;
  background: #fff8ec;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 1.05rem;
}

/* EXPERIENCE SHELL */
.experience-shell {
  padding: 12px 18px 10px;
}

/* HERO */
.hero {
  padding: 12px 0 6px;
}
.hero-inner {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.hero-text {
  max-width: 620px;
}
.hero-kicker {
  margin: 0 0 4px;
  font-size: 0.78rem;
  font-family: "Montserrat", system-ui, sans-serif;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: var(--amber);
}
.hero-title {
  margin: 0 0 6px;
  font-size: 2rem;
  color: var(--brown);
}
.hero-sub {
  margin: 0 0 8px;
  font-size: 0.92rem;
  font-family: "Montserrat", system-ui, sans-serif;
  color: var(--text-soft);
}
.hero-meta-line {
  margin: 0 0 10px;
  font-size: 0.78rem;
  font-family: "Montserrat", system-ui, sans-serif;
  color: var(--text-soft);
}

.hero-cta-row {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* HERO SIDE CARD */
.hero-side-card {
  max-width: 420px;
}
.side-card-inner {
  border-radius: 24px;
  padding: 16px 22px;
  background: linear-gradient(120deg, #f4d35e, #cf9d29); /* jaune or ‚Üí or plus profond */
  color: #fffdf7;
  box-shadow: 0 20px 45px rgba(92,59,15,0.28);
}


.side-label {
  margin: 0 0 4px;
  font-size: 0.75rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-family: "Montserrat", system-ui, sans-serif;
  color: #fff8df;
}
.side-title {
  margin: 0 0 4px;
  font-size: 0.98rem;
}
.side-types {
  margin: 0;
  font-size: 0.78rem;
  font-family: "Montserrat", system-ui, sans-serif;
}

/* TABS APP (HAUT) */
.app-tabs-top {
  display: flex;
  border-bottom: 1px solid #eadac4;
  margin-top: 10px;
}
.tab {
  padding: 8px 16px 10px;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 0.8rem;
  font-family: "Montserrat", system-ui, sans-serif;
  color: var(--text-soft);
  display: inline-flex;
  align-items: center;
  gap: 4px;
}
.tab span.icon { font-size: 1rem; }
.tab.active {
  color: var(--brown);
  font-weight: 600;
  border-bottom: 3px solid var(--amber);
}

/* VUES APP + PANEL PROFIL */
.views {
  display: grid;
  grid-template-columns: minmax(0, 1.5fr) minmax(260px, 0.9fr);
  gap: 16px;
  margin-top: 12px;
}
.view {
  display: none;
}
.view.active {
  display: block;
}

.card-shell {
  background: #fffdf9;
  border-radius: 24px;
  padding: 16px 18px 18px;
  box-shadow: 0 14px 32px rgba(0,0,0,0.06);
  border: 1px solid var(--border-soft);
}

.card-quiz {
  min-height: 220px;
}

.section-title {
  font-size: 1rem;
  color: var(--brown);
  margin: 0 0 4px;
}
.section-sub {
  margin: 0 0 12px;
  font-size: 0.8rem;
  color: var(--text-soft);
  font-family: "Montserrat", system-ui, sans-serif;
}

/* QUIZ */
.quiz-progress {
  font-family: "Montserrat", system-ui, sans-serif;
  font-size: 0.8rem;
  margin-bottom: 8px;
}
.quiz-bar {
  width: 100%;
  height: 6px;
  border-radius: 999px;
  background: #f0e2cd;
  overflow: hidden;
  margin-top: 4px;
}
.quiz-fill {
  width: 0%;
  height: 100%;
  background: linear-gradient(90deg, var(--brown), var(--gold));
  transition: width 0.25s ease;
}
.quiz-question {
  font-size: 0.95rem;
  margin: 12px 0 10px;
  color: var(--text-main);
}
.quiz-answers {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.answer-btn {
  border-radius: 16px;
  padding: 10px 12px;
  border: 1px solid #e4d5c1;
  background: #fdf6ea;
  font-size: 0.82rem;
  font-family: "Montserrat", system-ui, sans-serif;
  text-align: left;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease, background 0.15s ease;
}
.answer-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.08);
  border-color: var(--amber);
  background: #fff9f0;
}
.answer-btn.selected {
  border-color: var(--brown);
  background: #fff5dd;
}
.quiz-cta {
  display: flex;
  justify-content: flex-end;
  margin-top: 10px;
}

/* PROFILE PANEL */
.profile-panel {
  background: #fffaf1;
  border-radius: 24px;
  border: 1px solid var(--border-soft);
  box-shadow: 0 12px 28px rgba(0,0,0,0.06);
  padding: 14px 14px 16px;
  font-family: "Montserrat", system-ui, sans-serif;
}
.profile-header h2 {
  margin: 0 0 4px;
  font-size: 0.95rem;
  color: var(--brown);
}
.profile-header p {
  margin: 0 0 8px;
  font-size: 0.75rem;
  color: var(--text-soft);
}
.profile-type {
  font-size: 0.9rem;
  color: var(--brown);
  font-weight: 600;
  margin-bottom: 4px;
}
.profile-tag {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 999px;
  background: #fff0cf;
  border: 1px solid #f1d497;
  font-size: 0.7rem;
  color: var(--brown);
  margin-bottom: 8px;
}
.profile-text {
  font-size: 0.78rem;
  color: var(--text-soft);
  margin: 0 0 8px;
}
#profileMixBar {
  margin-top: 6px;
  display: flex;
  gap: 0;
  height: 6px;
  border-radius: 999px;
  overflow: hidden;
  background: #f0e2cd;
}

.profile-types-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 10px;
}
.profile-mini {
  border-radius: 999px;
  border: 1px solid #e4d5c1;
  background: #fdf4e7;
  padding: 3px 8px;
  cursor: pointer;
}
.profile-mini:hover {
  border-color: var(--amber);
}
.mini-label {
  font-size: 0.72rem;
  color: var(--text-soft);
}

.profile-cta {
  width: 100%;
  margin-top: 10px;
}

/* SWIPE CARDS */
.swipe-wrapper {
  position: relative;
  width: 100%;
  height: 360px;
  margin-top: 8px;
  overflow: hidden;
}
.swipe-card {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 340px;
  height: 100%;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 10px 22px rgba(0,0,0,0.16);
  border: 1px solid #e4d5c1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: transform 0.25s ease, opacity 0.25s ease;
}
.swipe-card img {
  width: 100%;
  height: 65%;
  object-fit: cover;
}
.swipe-badge {
  position: absolute;
  top: 12px;
  left: 12px;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-family: "Montserrat", system-ui, sans-serif;
  font-weight: 600;
  letter-spacing: 0.06em;
  opacity: 0;
  transition: opacity 0.15s ease;
}
.swipe-badge.like {
  background: #e6f7e4;
  color: #1e7a3a;
}
.swipe-badge.dislike {
  background: #ffe1de;
  color: #b83b3b;
}
.swipe-card-body {
  padding: 8px 10px 10px;
  font-family: "Montserrat", system-ui, sans-serif;
  font-size: 0.8rem;
  color: var(--text-main);
}
.swipe-label {
  font-weight: 600;
  color: var(--brown);
  margin-bottom: 2px;
}
.swipe-tag {
  font-size: 0.7rem;
  color: var(--amber);
  margin-bottom: 4px;
}
.swipe-cta-row {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 12px;
}
.swipe-btn {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 18px rgba(0,0,0,0.18);
}
.swipe-btn.dislike {
  background: #ffe1de;
  color: #b83b3b;
}
.swipe-btn.like {
  background: #e6f7e4;
  color: #1e7a3a;
}
.swipe-empty {
  font-family: "Montserrat", system-ui, sans-serif;
  font-size: 0.8rem;
  color: var(--text-soft);
  text-align: center;
  margin-top: 40px;
}

/* FAVORITES */
.fav-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 6px;
  font-family: "Montserrat", system-ui, sans-serif;
  font-size: 0.8rem;
}
.fav-item {
  border-radius: 14px;
  padding: 10px;
  background: #fffaf1;
  border: 1px solid #e4d5c1;
}
.fav-title {
  font-weight: 600;
  color: var(--brown);
  margin-bottom: 2px;
}
.match-intro {
  font-size: 0.8rem;
  color: var(--text-soft);
}

/* SETTINGS */
.setting-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  font-family: "Montserrat", system-ui, sans-serif;
  font-size: 0.8rem;
  border-bottom: 1px solid #f0e2cd;
}
.toggle {
  position: relative;
  width: 38px;
  height: 20px;
  border-radius: 999px;
  background: #dcc7a7;
  cursor: pointer;
}
.toggle::before {
  content: "";
  position: absolute;
  top: 2px;
  left: 2px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #fff;
  transition: transform 0.2s ease;
}
.toggle.active {
  background: var(--brown);
}
.toggle.active::before {
  transform: translateX(18px);
}

/* PAGES LODGES & ABOUT */
.page-section {
  padding: 28px 18px 36px;
  background: var(--cream-soft);
}
.page-lodges {
  background: #fff8ea;
}
.page-alt {
  background: #f4ebdc;
}
.page-inner {
  max-width: 1000px;
  margin: 0 auto;
}
.page-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  gap: 8px;
  margin-bottom: 12px;
}
.page-title {
  margin: 0 0 2px;
  font-size: 1.1rem;
  color: var(--brown);
}
.page-sub {
  margin: 0;
  font-size: 0.82rem;
  font-family: "Montserrat", system-ui, sans-serif;
  color: var(--text-soft);
}

/* BOOKING BAR */
.booking-bar {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 8px;
  background: #fffdf9;
  border-radius: 18px;
  padding: 10px 12px;
  border: 1px solid var(--border-soft);
  box-shadow: 0 10px 26px rgba(0,0,0,0.06);
  margin-bottom: 14px;
}
.booking-field {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.booking-field label {
  font-size: 0.72rem;
  font-family: "Montserrat", system-ui, sans-serif;
  color: var(--text-soft);
}
.booking-field input {
  border-radius: 10px;
  border: 1px solid #e4d5c1;
  padding: 5px 8px;
  font-size: 0.8rem;
  font-family: "Montserrat", system-ui, sans-serif;
  color: var(--text-main);
  background: #fffaf1;
}

/* LODGES */
.lodge-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 12px 0 16px;
}
.lodge-filters .secondary-btn.active {
  background: var(--brown);
  color: #fff;
  border-color: var(--brown);
}
.lodges-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.lodge-card {
  display: grid;
  grid-template-columns: minmax(0, 220px) 1fr;
  gap: 12px;
  align-items: stretch;
  border-radius: 18px;
  border: 1px solid var(--border-soft);
  background: #fffdf9;
  padding: 10px;
  box-shadow: 0 12px 26px rgba(0,0,0,0.06);
}
.lodge-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 14px;
}
.lodge-badge {
  font-size: 0.75rem;
  font-family: "Montserrat", system-ui, sans-serif;
  color: var(--amber);
  margin-bottom: 2px;
}
.lodge-name {
  margin: 0 0 4px;
  font-size: 0.95rem;
  color: var(--brown);
}
.lodge-desc {
  margin: 0 0 6px;
  font-size: 0.8rem;
  color: var(--text-soft);
  font-family: "Montserrat", system-ui, sans-serif;
}
.lodge-features {
  margin: 0 0 6px;
  padding-left: 16px;
  font-size: 0.78rem;
  color: var(--text-soft);
  font-family: "Montserrat", system-ui, sans-serif;
}
.lodge-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 4px;
}
.lodge-price {
  font-weight: 600;
  color: var(--brown);
  font-size: 0.82rem;
}

/* ABOUT / INFO */
.about-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
  margin-top: 8px;
}
.info-card {
  border-radius: 18px;
  border: 1px solid var(--border-soft);
  background: #fffdf9;
  padding: 10px 12px;
}
.info-card h3 {
  margin: 0 0 4px;
  font-size: 0.95rem;
  color: var(--brown);
}
.info-card p {
  margin: 0;
  font-size: 0.8rem;
  color: var(--text-soft);
  font-family: "Montserrat", system-ui, sans-serif;
}

/* FOOTER */
.site-footer {
  padding: 14px 18px 16px;
  background: #f5ebd6;
  border-top: 1px solid #e4d4bc;
}
.footer-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-family: "Montserrat", system-ui, sans-serif;
  font-size: 0.75rem;
  color: var(--text-soft);
}
.footer-brand {
  font-weight: 600;
}
.footer-links {
  display: flex;
  gap: 10px;
}
.footer-links a {
  color: var(--text-soft);
  text-decoration: none;
}
.footer-links a:hover {
  color: var(--brown);
}

/* RESPONSIVE */
@media (min-width: 768px) {
  .experience-shell {
    padding: 18px 32px 12px;
  }
  .hero-inner {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }
  .views {
    margin-top: 16px;
  }
  .main-nav {
    display: flex;
  }
  .footer-inner {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }
  .about-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .booking-bar {
    grid-template-columns: 1.1fr 0.7fr 0.7fr auto;
  }
}

@media (max-width: 767px) {
  .views {
    grid-template-columns: minmax(0, 1fr);
  }
  .profile-panel {
    margin-top: 10px;
  }
  .booking-bar {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  .lodge-card {
    grid-template-columns: 1fr;
  }
}

@media (min-width: 1024px) {
  .experience-shell {
    padding: 20px 40px 14px;
  }
  .app-header {
    padding: 10px 40px 8px;
  }
}
/* Version t√©l√©phone */
@media (max-width: 768px) {

  /* Tout colle moins aux bords */
  body {
    padding: 0;
    margin: 0;
  }

  .page-wrapper,
  .main-padding,
  .hero-container {
    padding-inline: 16px;
  }

  /* Les blocs qui sont c√¥te √† c√¥te passent l'un sous l'autre */
  .hero-layout,
  .quiz-layout {
    display: block;
  }

  /* Le bloc dor√© prend toute la largeur */
  .side-card,
  .side-card-inner {
    width: 100%;
    box-sizing: border-box;
    margin-top: 16px;
  }

  /* Boutons bien lisibles et larges */
  .primary-btn,
  .secondary-btn {
    width: 100%;
    text-align: center;
  }

  /* Titres un peu plus petits sur mobile */
  h1,
  .hero-title {
    font-size: 1.8rem;
    line-height: 1.2;
  }

  h2,
  .section-title {
    font-size: 1.4rem;
  }
}

</style>

</head>
<body>
  <div class="app-shell">
    <!-- HEADER GLOBAL -->
    <header class="app-header">
      <div class="app-header-left">
        <div class="app-logo-title">
          <img src="Logo SW.png" alt="Serenity Woods logo" class="logo">
          <div class="brand-text">
            <span class="brand-main">SERENITY WOODS</span>
            <span class="brand-sub">PAIRi DAIZA GLAMPING</span>
          </div>
        </div>

        <nav class="main-nav">
          <a href="#experienceSection" class="nav-link" data-nav="experience">Experiences</a>
          <a href="#lodgesPage" class="nav-link" data-nav="lodges">Accommodations</a>
          <a href="#aboutPage" class="nav-link" data-nav="about">About</a>
        </nav>
      </div>

      <div class="app-header-right">
        <div class="lang-switcher">
          <button class="lang-btn active" data-lang="fr">FR</button>
          <button class="lang-btn" data-lang="en">EN</button>
          <button class="lang-btn" data-lang="nl">NL</button>
        </div>
        <button id="headerBookBtn" class="primary-btn primary-btn-small">
          Book now
        </button>
        <button class="profile-icon" data-view="profile">üë§</button>
      </div>
    </header>

    <!-- SECTION EXPERIENCE (HERO + APP) -->
    <section id="experienceSection" class="experience-shell">
      <!-- HERO -->
      <section id="top" class="hero">
        <div class="hero-inner">
          <div class="hero-text">
            <p class="hero-kicker" id="heroKicker">PAIRI DAIZA GLAMPING RESORT</p>
            <h1 class="hero-title" id="heroTitle">Find your calm in the wild</h1>
            <p class="hero-sub" id="heroSub">
              Nature meets comfort outside Pairi Daiza. Discover which Serenity Woods lodge fits your glamping personality, from digital detox to romantic escapes.
            </p>

            <p class="hero-meta-line" id="heroMetaLine">
              <span id="heroMetaTypes">4 glamper types</span> ¬∑
              <span id="heroMetaLodges">Limited lodges</span> ¬∑
              <span id="heroMetaOpening">Opening 2026</span>
            </p>

            <div class="hero-cta-row">
              <button id="heroQuizBtn" class="primary-btn">
                Start the personality quiz ‚Üí
              </button>
              <button id="heroLodgesBtn" class="secondary-btn">
                Discover the lodges
              </button>
            </div>
          </div>

          <aside class="hero-side-card">
            <div class="side-card-inner">
              <p class="side-label" id="sideLabel">ENTER THE SILENCE</p>
              <p class="side-title" id="sideTitle">One concept, four ways to live it.</p>
              <p class="side-types" id="sideTypes">
                Quiet Seeker ¬∑ Romantic Drifter ¬∑ Wild Explorer ¬∑ Cozy Gatherer
              </p>
            </div>
          </aside>
        </div>
      </section>

      <!-- BARRE D'ONGLETS APP (comme sur ton visuel) -->
      <nav class="app-tabs app-tabs-top">
        <button class="tab active" data-view="quiz">
          <span class="icon">‚ùì</span>
          <span class="tab-label" id="tabQuizLabel">Quiz</span>
        </button>
        <button class="tab" data-view="swipe">
          <span class="icon">üì∑</span>
          <span class="tab-label" id="tabSwipeLabel">Mood</span>
        </button>
        <button class="tab" data-view="favorites">
          <span class="icon">‚ú®</span>
          <span class="tab-label" id="tabMatchLabel">Match</span>
        </button>
        <button class="tab" data-view="settings">
          <span class="icon">‚öôÔ∏è</span>
          <span class="tab-label" id="tabSettingsLabel">Settings</span>
        </button>
      </nav>

      <!-- CONTENU APP (QUIZ / MOOD / MATCH / SETTINGS / PROFILE) -->
      <main class="views">
        <!-- QUIZ -->
        <section class="view active" id="view-quiz">
          <div class="card-shell card-quiz">
            <h2 class="section-title" id="quizTitle">Glamping Personality Quiz</h2>
            <p class="section-sub" id="quizSubtitle">
              R√©pondez √† 10 questions et d√©couvrez votre exp√©rience id√©ale √† Serenity Woods.
            </p>

            <div class="quiz-progress">
              <span id="quizStepLabel">Question 1 / 10</span>
              <div class="quiz-bar">
                <div class="quiz-fill" id="quizFill"></div>
              </div>
            </div>

            <div id="quizQuestion" class="quiz-question"></div>
            <div id="quizAnswers" class="quiz-answers"></div>

            <div class="quiz-cta">
              <button id="nextBtn" class="primary-btn" disabled>Suivant ‚Üí</button>
            </div>
          </div>
        </section>

        <!-- MOOD CARDS -->
        <section class="view" id="view-swipe">
          <div class="card-shell">
            <h2 class="section-title" id="swipeTitle">Glamping Mood Cards</h2>
            <p class="section-sub" id="swipeSubtitle">
              Swipez √† droite si vous aimez, √† gauche si ce n‚Äôest pas pour vous. Vos likes compl√®tent votre glamping personality.
            </p>

            <div class="swipe-wrapper" id="swipeWrapper">
              <p class="swipe-empty" id="swipeEmpty">Commencez √† swiper pour voir vos pr√©f√©rences.</p>
            </div>

            <div class="swipe-cta-row">
              <button class="swipe-btn dislike" id="dislikeBtn">‚úï</button>
              <button class="swipe-btn like" id="likeBtn">‚ô°</button>
            </div>
          </div>
        </section>

        <!-- MATCH / FAVORITES -->
        <section class="view" id="view-favorites">
          <div class="card-shell">
            <h2 class="section-title" id="matchTitle">Your Serenity Woods match</h2>
            <p class="section-sub" id="matchSubtitle">
              Des exp√©riences recommand√©es selon votre glamping personality.
            </p>
            <div id="favList" class="fav-list">
              <p id="matchIntro" class="match-intro">
                R√©pondez au quiz ou utilisez les Glamping Mood Cards pour voir les exp√©riences qui correspondent √† votre couple.
              </p>
            </div>
          </div>
        </section>

        <!-- SETTINGS -->
        <section class="view" id="view-settings">
          <div class="card-shell">
            <h2 class="section-title" id="settingsTitle">Settings</h2>
            <p class="section-sub" id="settingsSubtitle">Options simples pour votre exp√©rience.</p>

            <div class="setting-row">
              <span id="settingsSoundLabel">Sons du quiz</span>
              <div id="soundToggle" class="toggle"></div>
            </div>

            <div class="setting-row">
              <span id="settingsAnimationsLabel">Animations visuelles</span>
              <div id="animToggle" class="toggle active"></div>
            </div>

            <div class="setting-row" style="border-bottom:none;">
              <span id="settingsReplayLabel">Rejouer le quiz</span>
              <button id="restartBtn" class="secondary-btn">Reset quiz</button>
            </div>
          </div>
        </section>

        <!-- PROFIL (POPUP √Ä DROITE COMME UN VRAI SITE) -->
        <aside class="profile-panel" id="profilePanel">
          <div class="profile-header">
            <h2 id="profileTitle">Votre glamping personality</h2>
            <p id="profileSubtitle">Bas√©e sur vos r√©ponses au quiz et vos mood cards.</p>
          </div>
          <div class="profile-body">
            <div id="profileType" class="profile-type">
              Commencez par le quiz ou les mood cards pour d√©couvrir votre profil.
            </div>
            <div id="profileTag" class="profile-tag" style="display:none;"></div>
            <p id="profileText" class="profile-text"></p>

            <div id="profileMixBar"></div>

            <div class="profile-types-row" id="profileTypesRow">
              <div class="profile-mini" data-gtype="quiet">
                <span class="mini-label">Quiet Seeker</span>
              </div>
              <div class="profile-mini" data-gtype="romantic">
                <span class="mini-label">Romantic Drifter</span>
              </div>
              <div class="profile-mini" data-gtype="wild">
                <span class="mini-label">Wild Explorer</span>
              </div>
              <div class="profile-mini" data-gtype="cozy">
                <span class="mini-label">Cozy Gatherer</span>
              </div>
            </div>

            <button id="seeLodgesBtn" class="primary-btn profile-cta">
              Voir les lodges pour ce profil
            </button>
          </div>
        </aside>
      </main>
    </section>

    <!-- SECTION LODGES ‚Äì AVEC BARRE DE R√âSERVATION -->
    <section id="lodgesPage" class="page-section page-lodges">
      <div class="page-inner">
        <header class="page-header">
          <div>
            <h2 class="page-title" id="lodgesTitle">Choose your lodge</h2>
            <p class="page-sub" id="lodgesSubtitle">
              Find the lodge that best matches your glamping personality.
            </p>
          </div>
        </header>

        <!-- BARRE FAKE BOOKING -->
        <div class="booking-bar">
          <div class="booking-field">
            <label for="checkinInput" id="checkinLabel">Check‚Äëin</label>
            <input type="date" id="checkinInput">
          </div>
          <div class="booking-field">
            <label for="nightsInput" id="nightsLabel">Nights</label>
            <input type="number" id="nightsInput" min="1" value="2">
          </div>
          <div class="booking-field">
            <label for="guestsInput" id="guestsLabel">Guests</label>
            <input type="number" id="guestsInput" min="1" value="2">
          </div>
          <button id="checkAvailBtn" class="primary-btn">
            Check availability
          </button>
        </div>

        <!-- FILTRES LODGES -->
        <div class="lodge-filters">
          <button class="secondary-btn lodge-filter active" data-type="all">All</button>
          <button class="secondary-btn lodge-filter" data-type="quiet">Quiet Seeker</button>
          <button class="secondary-btn lodge-filter" data-type="romantic">Romantic Drifter</button>
          <button class="secondary-btn lodge-filter" data-type="wild">Wild Explorer</button>
          <button class="secondary-btn lodge-filter" data-type="cozy">Cozy Gatherer</button>
        </div>

        <!-- LISTE LODGES -->
        <div id="lodgesList" class="lodges-list"></div>
      </div>
    </section>

    <!-- SECTION ABOUT / INFO PRATIQUE -->
    <section id="aboutPage" class="page-section page-alt">
      <div class="page-inner">
        <header class="page-header">
          <div>
            <h2 class="page-title" id="infoTitle">About Serenity Woods</h2>
            <p class="page-sub" id="infoSubtitle">
              Silence is the new luxury. Serenity Woods brings the Pairi Daiza spirit beyond the park.
            </p>
          </div>
        </header>

        <div class="about-grid">
          <article class="info-card">
            <h3 id="infoAccessTitle">Access & location</h3>
            <p id="infoAccessText">
              Serenity Woods is located just outside Pairi Daiza, with dedicated parking and a private path leading directly to the glamping resort.
            </p>
          </article>

          <article class="info-card">
            <h3 id="infoStayTitle">Stay & check‚Äëin</h3>
            <p id="infoStayText">
              Check‚Äëin is from 16:00 and check‚Äëout at 11:00. Each lodge includes breakfast, bed linen, and access to selected nature activities.
            </p>
          </article>

          <article class="info-card">
            <h3 id="infoSustainTitle">Sustainability</h3>
            <p id="infoSustainText">
              The resort is powered by green energy, uses low‚Äëimpact materials and supports Pairi Daiza‚Äôs biodiversity and animal welfare programs.
            </p>
          </article>

          <article class="info-card">
            <h3 id="infoContactTitle">Contact & booking</h3>
            <p id="infoContactText">
              For special requests, group stays or gift vouchers, please contact our Serenity Woods concierge team via email or phone.
            </p>
          </article>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="footer-inner">
        <div class="footer-left">
          <span class="footer-brand">Serenity Woods ¬∑ Pairi Daiza Glamping</span>
          <span class="footer-copy">¬© 2025 Serenity Woods. All rights reserved.</span>
        </div>
        <div class="footer-links">
          <a href="#experienceSection">Experiences</a>
          <a href="#lodgesPage">Lodges</a>
          <a href="#aboutPage">About</a>
          <a href="#top">Back to top</a>
        </div>
      </div>
    </footer>
  </div>

  <!-- AUDIO AMBIANCE NATURE -->
  <audio id="natureAudio" loop>
    <source src="sons/nature-forest.mp3" type="audio/mpeg">
  </audio>

 <script>
/* ========== TEXTES PAR LANGUE ========== */
const translations = {
  fr: {
    heroKicker: "PAIRI DAIZA GLAMPING RESORT",
    heroTitle: "Trouvez votre calme en pleine nature",
    heroSub:
      "La nature rencontre le confort aux portes de Pairi Daiza. D√©couvrez quel lodge Serenity Woods correspond √† votre glamping personality, de la digital detox aux escapades romantiques.",
    heroMetaTypes: "4 glamper types",
    heroMetaLodges: "Lodges en nombre limit√©",
    heroMetaOpening: "Ouverture 2026",
    heroQuizBtn: "Lancer le quiz de personnalit√© ‚Üí",
    heroLodgesBtn: "D√©couvrir les lodges",
    sideLabel: "ENTER THE SILENCE",
    sideTitle: "Un concept, quatre fa√ßons de le vivre.",
    sideTypes: "Quiet Seeker ¬∑ Romantic Drifter ¬∑ Wild Explorer ¬∑ Cozy Gatherer",

    quizTitle: "Glamping Personality Quiz",
    quizSubtitle:
      "R√©pondez √† 10 questions et d√©couvrez votre exp√©rience id√©ale √† Serenity Woods.",
    swipeTitle: "Glamping Mood Cards",
    swipeSubtitle:
      "Swipez √† droite si vous aimez, √† gauche si ce n‚Äôest pas pour vous. Vos likes compl√®tent votre glamping personality.",
    matchTitle: "Your Serenity Woods match",
    matchSubtitle: "Des exp√©riences recommand√©es selon votre glamping personality.",
    matchIntro:
      "R√©pondez au quiz ou utilisez les Glamping Mood Cards pour voir les exp√©riences qui correspondent √† votre couple.",
    settingsTitle: "Settings",
    settingsSubtitle: "Options simples pour votre exp√©rience.",
    settingsSoundLabel: "Sons du quiz",
    settingsAnimationsLabel: "Animations visuelles",
    settingsReplayLabel: "Rejouer le quiz",
    restartBtn: "Reset quiz",
    tabQuizLabel: "Quiz",
    tabSwipeLabel: "Mood",
    tabMatchLabel: "Match",
    tabSettingsLabel: "Settings",

    profileTitle: "Votre glamping personality",
    profileSubtitle: "Bas√©e sur vos r√©ponses au quiz et vos mood cards.",
    profileIntro:
      "Commencez par le quiz ou les mood cards pour d√©couvrir votre profil.",
    seeLodgesBtn: "Voir les lodges pour ce profil",

    lodgesTitle: "Choisissez votre lodge",
    lodgesSubtitle:
      "Trouvez le lodge qui correspond le mieux √† votre glamping personality.",
    checkinLabel: "Check‚Äëin",
    nightsLabel: "Nuits",
    guestsLabel: "Invit√©s",
    checkAvailBtn: "V√©rifier les disponibilit√©s",

    infoTitle: "√Ä propos de Serenity Woods",
    infoSubtitle:
      "Silence is the new luxury. Serenity Woods prolonge l‚Äôesprit Pairi Daiza au‚Äëdel√† du parc.",
    infoAccessTitle: "Acc√®s & localisation",
    infoAccessText:
      "Serenity Woods se situe juste √† l‚Äôext√©rieur de Pairi Daiza, avec un parking d√©di√© et un chemin priv√© menant directement au glamping.",
    infoStayTitle: "S√©jour & check‚Äëin",
    infoStayText:
      "Check‚Äëin √† partir de 16h et check‚Äëout √† 11h. Chaque lodge comprend le petit‚Äëd√©jeuner, le linge de lit et certaines activit√©s nature.",
    infoSustainTitle: "Durabilit√©",
    infoSustainText:
      "Le resort fonctionne √† l‚Äô√©nergie verte, utilise des mat√©riaux √† faible impact et soutient les programmes biodiversit√© et bien‚Äë√™tre animal de Pairi Daiza.",
    infoContactTitle: "Contact & r√©servation",
    infoContactText:
      "Pour toute demande sp√©ciale, s√©jour en groupe ou bon cadeau, contactez notre √©quipe Serenity Woods par e‚Äëmail ou t√©l√©phone.",

    lodgeFilterAll: "Tous",
    lodgeFilterQuiet: "Quiet Seeker",
    lodgeFilterRomantic: "Romantic Drifter",
    lodgeFilterWild: "Wild Explorer",
    lodgeFilterCozy: "Cozy Gatherer",

    swipeEmptyStart: "Commencez √† swiper pour voir vos pr√©f√©rences.",
    swipeEmptyEnd: "Vous avez vu toutes les cartes. Consultez votre profil.",

    fakeBookingMsg: (name) =>
      `Vous allez simuler une r√©servation pour : ${name}\n\nCette fen√™tre est une d√©mo (dates, nombre de nuits, etc.).`,
    fakeSearchMsg:
      "Recherche de disponibilit√©s en cours...\n\nSerenity Woods ouvrira ses r√©servations en 2026.",

    questionLabel: (i, total) => `Question ${i} / ${total}`
  },
  en: {
    heroKicker: "PAIRI DAIZA GLAMPING RESORT",
    heroTitle: "Find your calm in the wild",
    heroSub:
      "Nature meets comfort outside Pairi Daiza. Discover which Serenity Woods lodge fits your glamping personality, from digital detox to romantic escapes.",
    heroMetaTypes: "4 glamper types",
    heroMetaLodges: "Limited lodges",
    heroMetaOpening: "Opening 2026",
    heroQuizBtn: "Start the personality quiz ‚Üí",
    heroLodgesBtn: "Discover the lodges",
    sideLabel: "ENTER THE SILENCE",
    sideTitle: "One concept, four ways to live it.",
    sideTypes: "Quiet Seeker ¬∑ Romantic Drifter ¬∑ Wild Explorer ¬∑ Cozy Gatherer",

    quizTitle: "Glamping Personality Quiz",
    quizSubtitle:
      "Answer 10 questions to discover your ideal Serenity Woods experience.",
    swipeTitle: "Glamping Mood Cards",
    swipeSubtitle:
      "Swipe right if you like it, left if it is not for you. Your likes complete your glamping personality.",
    matchTitle: "Your Serenity Woods match",
    matchSubtitle: "Experiences recommended for your glamping personality.",
    matchIntro:
      "Answer the quiz or use the Glamping Mood Cards to see the experiences that match your couple.",
    settingsTitle: "Settings",
    settingsSubtitle: "Simple options for your experience.",
    settingsSoundLabel: "Quiz sounds",
    settingsAnimationsLabel: "Visual animations",
    settingsReplayLabel: "Replay quiz",
    restartBtn: "Reset quiz",
    tabQuizLabel: "Quiz",
    tabSwipeLabel: "Mood",
    tabMatchLabel: "Match",
    tabSettingsLabel: "Settings",

    profileTitle: "Your glamping personality",
    profileSubtitle: "Based on your quiz answers and mood cards.",
    profileIntro: "Start with the quiz or mood cards to discover your profile.",
    seeLodgesBtn: "See lodges for this profile",

    lodgesTitle: "Choose your lodge",
    lodgesSubtitle:
      "Find the lodge that best matches your glamping personality.",
    checkinLabel: "Check‚Äëin",
    nightsLabel: "Nights",
    guestsLabel: "Guests",
    checkAvailBtn: "Check availability",

    infoTitle: "About Serenity Woods",
    infoSubtitle:
      "Silence is the new luxury. Serenity Woods brings the Pairi Daiza spirit beyond the park.",
    infoAccessTitle: "Access & location",
    infoAccessText:
      "Serenity Woods is located just outside Pairi Daiza, with dedicated parking and a private path leading directly to the glamping resort.",
    infoStayTitle: "Stay & check‚Äëin",
    infoStayText:
      "Check‚Äëin is from 4 pm and check‚Äëout at 11 am. Each lodge includes breakfast, bed linen and selected nature activities.",
    infoSustainTitle: "Sustainability",
    infoSustainText:
      "The resort is powered by green energy, uses low‚Äëimpact materials and supports Pairi Daiza‚Äôs biodiversity and animal welfare programs.",
    infoContactTitle: "Contact & booking",
    infoContactText:
      "For special requests, group stays or gift vouchers, please contact our Serenity Woods concierge team via email or phone.",

    lodgeFilterAll: "All",
    lodgeFilterQuiet: "Quiet Seeker",
    lodgeFilterRomantic: "Romantic Drifter",
    lodgeFilterWild: "Wild Explorer",
    lodgeFilterCozy: "Cozy Gatherer",

    swipeEmptyStart: "Start swiping to see your preferences.",
    swipeEmptyEnd: "You have seen all the cards. Check your profile.",

    fakeBookingMsg: (name) =>
      `You are about to simulate a booking for: ${name}\n\nThis window is a demo (dates, number of nights, etc.).`,
    fakeSearchMsg:
      "Checking availability...\n\nSerenity Woods bookings will open in 2026.",

    questionLabel: (i, total) => `Question ${i} / ${total}`
  },
  nl: {
    heroKicker: "PAIRI DAIZA GLAMPING RESORT",
    heroTitle: "Vind je rust in de natuur",
    heroSub:
      "Natuur en comfort komen samen net buiten Pairi Daiza. Ontdek welke Serenity Woods‚Äëlodge bij jouw glamping personality past, van digital detox tot romantische escapes.",
    heroMetaTypes: "4 glamper types",
    heroMetaLodges: "Beperkt aantal lodges",
    heroMetaOpening: "Opening 2026",
    heroQuizBtn: "Start de persoonlijkheidsquiz ‚Üí",
    heroLodgesBtn: "Ontdek de lodges",
    sideLabel: "ENTER THE SILENCE",
    sideTitle: "E√©n concept, vier manieren om het te beleven.",
    sideTypes: "Quiet Seeker ¬∑ Romantic Drifter ¬∑ Wild Explorer ¬∑ Cozy Gatherer",

    quizTitle: "Glamping Personality Quiz",
    quizSubtitle:
      "Beantwoord 10 vragen en ontdek jouw ideale ervaring bij Serenity Woods.",
    swipeTitle: "Glamping Mood Cards",
    swipeSubtitle:
      "Swipe naar rechts als je het leuk vindt, naar links als het niets voor jou is. Je likes maken je glamping personality compleet.",
    matchTitle: "Jouw Serenity Woods match",
    matchSubtitle: "Aanbevolen ervaringen volgens jouw glamping personality.",
    matchIntro:
      "Beantwoord de quiz of gebruik de Glamping Mood Cards om passende ervaringen te zien.",
    settingsTitle: "Instellingen",
    settingsSubtitle: "Eenvoudige opties voor je ervaring.",
    settingsSoundLabel: "Quizgeluiden",
    settingsAnimationsLabel: "Visuele animaties",
    settingsReplayLabel: "Quiz opnieuw spelen",
    restartBtn: "Quiz resetten",
    tabQuizLabel: "Quiz",
    tabSwipeLabel: "Mood",
    tabMatchLabel: "Match",
    tabSettingsLabel: "Instellingen",

    profileTitle: "Jouw glamping personality",
    profileSubtitle: "Gebaseerd op je quizantwoorden en mood cards.",
    profileIntro: "Begin met de quiz of de mood cards om je profiel te ontdekken.",
    seeLodgesBtn: "Bekijk de lodges voor dit profiel",

    lodgesTitle: "Kies je lodge",
    lodgesSubtitle:
      "Vind de lodge die het beste bij jouw glamping personality past.",
    checkinLabel: "Check‚Äëin",
    nightsLabel: "Nachten",
    guestsLabel: "Gasten",
    checkAvailBtn: "Beschikbaarheid bekijken",

    infoTitle: "Over Serenity Woods",
    infoSubtitle:
      "Silence is the new luxury. Serenity Woods verlengt de Pairi Daiza‚Äësfeer buiten het park.",
    infoAccessTitle: "Toegang & locatie",
    infoAccessText:
      "Serenity Woods ligt vlak naast Pairi Daiza, met een eigen parking en een priv√©pad rechtstreeks naar het glamping resort.",
    infoStayTitle: "Verblijf & check‚Äëin",
    infoStayText:
      "Check‚Äëin vanaf 16:00 en check‚Äëout om 11:00. Elke lodge is inclusief ontbijt, bedlinnen en geselecteerde natuuractiviteiten.",
    infoSustainTitle: "Duurzaamheid",
    infoSustainText:
      "Het resort gebruikt groene energie, duurzame materialen en ondersteunt de biodiversiteits‚Äë en dierenwelzijnsprogramma‚Äôs van Pairi Daiza.",
    infoContactTitle: "Contact & boeken",
    infoContactText:
      "Voor speciale aanvragen, groepsverblijven of cadeaubonnen kan je terecht bij het Serenity Woods‚Äëteam via e‚Äëmail of telefoon.",

    lodgeFilterAll: "Alles",
    lodgeFilterQuiet: "Quiet Seeker",
    lodgeFilterRomantic: "Romantic Drifter",
    lodgeFilterWild: "Wild Explorer",
    lodgeFilterCozy: "Cozy Gatherer",

    swipeEmptyStart: "Begin met swipen om je voorkeuren te zien.",
    swipeEmptyEnd: "Je hebt alle kaarten gezien. Bekijk je profiel.",

    fakeBookingMsg: (name) =>
      `Je staat op het punt een boeking te simuleren voor: ${name}\n\nDit venster is een demo (data, aantal nachten, enz.).`,
    fakeSearchMsg:
      "Beschikbaarheid wordt gecontroleerd...\n\nBoekingen voor Serenity Woods gaan open in 2026.",

    questionLabel: (i, total) => `Vraag ${i} / ${total}`
  }
};

/* ========== QUESTIONS PAR LANGUE ========== */
const questionsByLang = {
  fr: [
    {
      text: "Quand vous pensez √† un week-end id√©al, vous imaginez plut√¥t :",
      answers: [
        { text: "Une cabane isol√©e, sans voisins, juste les arbres", type: "detox" },
        { text: "Un lodge avec bain chaud et d√Æner aux chandelles", type: "romantic" },
        { text: "Des activit√©s en pleine nature, chemins, v√©lo, kayak", type: "adventure" },
        { text: "Un h√©bergement confortable, proche de quelques services", type: "comfort" }
      ]
    },
    {
      text: "Le matin, votre mood :",
      answers: [
        { text: "R√©veil naturel, aucun r√©veil, juste le silence", type: "detox" },
        { text: "Petit-d√©jeuner au lit avec vue, ambiance cosy", type: "romantic" },
        { text: "Lever t√¥t pour profiter au maximum des activit√©s", type: "adventure" },
        { text: "Grasse matin√©e puis balade tranquille dans les bois", type: "comfort" }
      ]
    },
    {
      text: "Votre rapport au t√©l√©phone en week-end :",
      answers: [
        { text: "Mode avion quasi tout le week-end", type: "detox" },
        { text: "Quelques photos √† deux, puis t√©l√©phone rang√©", type: "romantic" },
        { text: "Photos, vid√©os et carte pour explorer les environs", type: "adventure" },
        { text: "Je le garde pour le confort (infos pratiques, musique)", type: "comfort" }
      ]
    },
    {
      text: "Le soir, votre moment pr√©f√©r√© :",
      answers: [
        { text: "Lecture pr√®s du feu, sans bruit ext√©rieur", type: "detox" },
        { text: "D√Æner aux chandelles, ambiance intimiste", type: "romantic" },
        { text: "Derni√®re balade, feu de camp, regarder les √©toiles", type: "adventure" },
        { text: "Film, plaid, snacks gourmands dans un lodge douillet", type: "comfort" }
      ]
    },
    {
      text: "Niveau activit√©s, vous √™tes plut√¥t :",
      answers: [
        { text: "Slow, yoga, respiration, marche lente en for√™t", type: "detox" },
        { text: "Moments √† deux, spa, massages, temps de qualit√©", type: "romantic" },
        { text: "Randonn√©es, points de vue, sensation d‚Äôexploration", type: "adventure" },
        { text: "Un m√©lange de petites activit√©s et beaucoup de chill", type: "comfort" }
      ]
    },
    {
      text: "Votre h√©bergement id√©al √† Serenity Woods :",
      answers: [
        { text: "Cabane minimaliste, loin de tout, pas de vis-√†-vis", type: "detox" },
        { text: "Lodge romantique avec bain nordique ou jacuzzi priv√©", type: "romantic" },
        { text: "Cabane perch√©e ou spot avec acc√®s direct aux sentiers", type: "adventure" },
        { text: "Tiny house confortable avec belle literie et vue", type: "comfort" }
      ]
    },
    {
      text: "Quand vous pensez au mot ¬´ luxe ¬ª, vous voyez :",
      answers: [
        { text: "Le temps, le calme, aucun planning", type: "detox" },
        { text: "Des attentions, des d√©tails, une ambiance pens√©e pour le couple", type: "romantic" },
        { text: "La libert√© d‚Äôexplorer, de tester, de bouger", type: "adventure" },
        { text: "Le confort, la chaleur, la sensation de cocon", type: "comfort" }
      ]
    },
    {
      text: "Votre activit√© signature √† Serenity Woods serait :",
      answers: [
        { text: "D√©connexion totale : respiration, journal, sieste en hamac", type: "detox" },
        { text: "Bain chaud ext√©rieur au coucher du soleil, √† deux", type: "romantic" },
        { text: "Boucle de randonn√©e avec spots panoramiques", type: "adventure" },
        { text: "Brunch tardif, promenade, jeux de soci√©t√© dans la cabane", type: "comfort" }
      ]
    },
    {
      text: "En couple, vous cherchez surtout :",
      answers: [
        { text: "Un endroit pour vraiment se recentrer ensemble", type: "detox" },
        { text: "Des moments intenses, complices, en mode parenth√®se √† deux", type: "romantic" },
        { text: "Des souvenirs d‚Äôaventure √† raconter ensuite", type: "adventure" },
        { text: "Un espace s√©curisant o√π on se sent bien tous les deux", type: "comfort" }
      ]
    },
    {
      text: "Si vous deviez d√©crire votre vibe en un mot :",
      answers: [
        { text: "Slow & minimaliste", type: "detox" },
        { text: "Intense & amoureux", type: "romantic" },
        { text: "Curieux & dynamique", type: "adventure" },
        { text: "Cosy & chill", type: "comfort" }
      ]
    }
  ],
  en: [
    {
      text: "When you think of an ideal weekend, you imagine:",
      answers: [
        { text: "A secluded cabin with no neighbours, only trees", type: "detox" },
        { text: "A lodge with hot tub and candlelit dinner", type: "romantic" },
        { text: "Outdoor activities: trails, biking, kayaking", type: "adventure" },
        { text: "A comfortable place, close to a few services", type: "comfort" }
      ]
    },
    {
      text: "In the morning, your mood is:",
      answers: [
        { text: "Natural wake-up, no alarm, just silence", type: "detox" },
        { text: "Breakfast in bed with a view, cosy atmosphere", type: "romantic" },
        { text: "Up early to make the most of activities", type: "adventure" },
        { text: "Sleep in, then a peaceful walk in the woods", type: "comfort" }
      ]
    },
    {
      text: "Your relationship with your phone on a weekend:",
      answers: [
        { text: "Airplane mode almost the whole weekend", type: "detox" },
        { text: "A few couple photos, then phone away", type: "romantic" },
        { text: "Photos, videos and maps to explore the area", type: "adventure" },
        { text: "I keep it for comfort (practical info, music)", type: "comfort" }
      ]
    },
    {
      text: "In the evening, your favourite moment is:",
      answers: [
        { text: "Reading by the fire, no outside noise", type: "detox" },
        { text: "Candlelit dinner, intimate atmosphere", type: "romantic" },
        { text: "Last walk, campfire, watching the stars", type: "adventure" },
        { text: "Movie, blanket, snacks in a cosy lodge", type: "comfort" }
      ]
    },
    {
      text: "For activities, you are more:",
      answers: [
        { text: "Slow: yoga, breathing, slow forest walks", type: "detox" },
        { text: "Moments for two: spa, massages, quality time", type: "romantic" },
        { text: "Hikes, viewpoints, a sense of exploration", type: "adventure" },
        { text: "A mix of light activities and a lot of chill", type: "comfort" }
      ]
    },
    {
      text: "Your ideal accommodation at Serenity Woods:",
      answers: [
        { text: "Minimalist cabin, far from everything, no neighbours", type: "detox" },
        { text: "Romantic lodge with hot tub or private jacuzzi", type: "romantic" },
        { text: "Treehouse or spot with direct access to trails", type: "adventure" },
        { text: "Comfortable tiny house with great bedding and a view", type: "comfort" }
      ]
    },
    {
      text: "When you think of the word ‚Äúluxury‚Äù, you see:",
      answers: [
        { text: "Time, calm, no schedule", type: "detox" },
        { text: "Thoughtful details and an atmosphere for couples", type: "romantic" },
        { text: "Freedom to explore, try and move around", type: "adventure" },
        { text: "Comfort, warmth, a cocoon feeling", type: "comfort" }
      ]
    },
    {
      text: "Your signature activity at Serenity Woods would be:",
      answers: [
        { text: "Total digital detox: breathing, journaling, hammock nap", type: "detox" },
        { text: "Outdoor hot bath at sunset, together", type: "romantic" },
        { text: "Panoramic hiking loop", type: "adventure" },
        { text: "Late brunch, walk, board games in the cabin", type: "comfort" }
      ]
    },
    {
      text: "As a couple, you mainly look for:",
      answers: [
        { text: "A place to really recentre together", type: "detox" },
        { text: "Intense, close moments, like a bubble for two", type: "romantic" },
        { text: "Adventure memories to tell afterwards", type: "adventure" },
        { text: "A safe space where you both feel good", type: "comfort" }
      ]
    },
    {
      text: "If you had to describe your vibe in one word:",
      answers: [
        { text: "Slow & minimalist", type: "detox" },
        { text: "Intense & romantic", type: "romantic" },
        { text: "Curious & dynamic", type: "adventure" },
        { text: "Cosy & chill", type: "comfort" }
      ]
    }
  ],
  nl: [
    {
      text: "Als je aan een ideaal weekend denkt, stel je je vooral voor:",
      answers: [
        { text: "Een afgelegen cabin, geen buren, alleen bomen", type: "detox" },
        { text: "Een lodge met warm bad en diner bij kaarslicht", type: "romantic" },
        { text: "Buitenactiviteiten: wandelpaden, fietsen, kajakken", type: "adventure" },
        { text: "Een comfortabel verblijf, dicht bij enkele faciliteiten", type: "comfort" }
      ]
    },
    {
      text: "‚Äôs Ochtends is jouw mood eerder:",
      answers: [
        { text: "Natuurlijk wakker worden, geen wekker, alleen stilte", type: "detox" },
        { text: "Ontbijt op bed met uitzicht, cosy sfeer", type: "romantic" },
        { text: "Vroeg opstaan om alles uit de dag te halen", type: "adventure" },
        { text: "Uitslapen en daarna een rustige wandeling in het bos", type: "comfort" }
      ]
    },
    {
      text: "Je relatie met je telefoon tijdens een weekend weg:",
      answers: [
        { text: "Bijna het hele weekend op vliegtuigstand", type: "detox" },
        { text: "Enkele foto‚Äôs samen, daarna de telefoon weg", type: "romantic" },
        { text: "Foto‚Äôs, video‚Äôs en kaarten om de omgeving te verkennen", type: "adventure" },
        { text: "Ik hou hem bij voor het gemak (praktische info, muziek)", type: "comfort" }
      ]
    },
    {
      text: "‚Äôs Avonds is jouw favoriete moment:",
      answers: [
        { text: "Lezen bij het vuur, zonder omgevingsgeluid", type: "detox" },
        { text: "Diner bij kaarslicht, intieme sfeer", type: "romantic" },
        { text: "Laatste wandeling, kampvuur, naar de sterren kijken", type: "adventure" },
        { text: "Film, dekentje, snacks in een knusse lodge", type: "comfort" }
      ]
    },
    {
      text: "Qua activiteiten ben je eerder:",
      answers: [
        { text: "Slow: yoga, ademhaling, langzame boswandelingen", type: "detox" },
        { text: "Tijd met z‚Äôn twee√´n: spa, massages, quality time", type: "romantic" },
        { text: "Wandelingen, viewpoints, het gevoel echt te ontdekken", type: "adventure" },
        { text: "Een mix van lichte activiteiten en veel chill", type: "comfort" }
      ]
    },
    {
      text: "Je ideale verblijf bij Serenity Woods:",
      answers: [
        { text: "Minimalistische cabin, ver weg van alles, geen inkijk", type: "detox" },
        { text: "Romantische lodge met hottub of priv√©‚Äëjacuzzi", type: "romantic" },
        { text: "Boomhut of plek met directe toegang tot wandelpaden", type: "adventure" },
        { text: "Comfortabele tiny house met heerlijk bed en uitzicht", type: "comfort" }
      ]
    },
    {
      text: "Als je aan het woord ‚Äòluxe‚Äô denkt, zie je vooral:",
      answers: [
        { text: "Tijd, rust, geen planning", type: "detox" },
        { text: "Aandacht voor details en een sfeer speciaal voor koppels", type: "romantic" },
        { text: "Vrijheid om te ontdekken, uit te proberen en rond te trekken", type: "adventure" },
        { text: "Comfort, warmte, een echte cocon", type: "comfort" }
      ]
    },
    {
      text: "Jouw signature‚Äëactiviteit bij Serenity Woods zou zijn:",
      answers: [
        { text: "Volledige digitale detox: ademhaling, journaling, dutje in de hangmat", type: "detox" },
        { text: "Buitenbad bij zonsondergang, met z‚Äôn twee√´n", type: "romantic" },
        { text: "Panoramische wandelroute", type: "adventure" },
        { text: "Late brunch, wandeling, gezelschapsspelletjes in de cabin", type: "comfort" }
      ]
    },
    {
      text: "Als koppel zoeken jullie vooral:",
      answers: [
        { text: "Een plek om √©cht samen tot rust te komen", type: "detox" },
        { text: "Intense, nabije momenten, als een bubbel voor twee", type: "romantic" },
        { text: "Avontuurlijke herinneringen om later te vertellen", type: "adventure" },
        { text: "Een veilige, warme plek waar jullie je allebei goed voelen", type: "comfort" }
      ]
    },
    {
      text: "Als je je vibe in √©√©n woord moet beschrijven:",
      answers: [
        { text: "Slow & minimalistisch", type: "detox" },
        { text: "Intens & romantisch", type: "romantic" },
        { text: "Nieuwsgierig & dynamisch", type: "adventure" },
        { text: "Cosy & chill", type: "comfort" }
      ]
    }
  ]
};

/* ========== PROFILS 4 TYPES ========== */
const profiles = {
  detox: {
    label: "Quiet Seeker",
    tag: "Silence ‚Ä¢ Nature ‚Ä¢ Slow",
    description:
      "Vous r√™vez d‚Äôun week‚Äëend o√π le temps ralentit : peu d‚Äô√©crans, beaucoup de nature et une cabane isol√©e pour respirer √† deux.",
    favorites: [
      {
        title: "Deep Forest Cabin",
        text: "Cabane isol√©e, aucune route visible, acc√®s direct aux sentiers et espace feu de camp."
      },
      {
        title: "Rituel Digital Detox",
        text: "Carnet, tisane et micro‚Äërituels pour couper les notifications et se reconnecter."
      }
    ]
  },
  romantic: {
    label: "Romantic Drifter",
    tag: "Couple time ‚Ä¢ Intimit√©",
    description:
      "Votre priorit√© : une parenth√®se √† deux, avec bains chauds sous les √©toiles, d√Æners aux chandelles et ambiance cosy.",
    favorites: [
      {
        title: "Moonlight Lodge",
        text: "Lodge avec bain nordique priv√©, guirlandes lumineuses et vue d√©gag√©e."
      },
      {
        title: "Signature Romantic Dinner",
        text: "D√Æner aux chandelles en lodge, produits locaux et ambiance intimiste."
      }
    ]
  },
  adventure: {
    label: "Wild Explorer",
    tag: "Exploration ‚Ä¢ Outdoor",
    description:
      "Vous venez chercher des sentiers, des panoramas et la sensation d‚Äôavoir vraiment explor√© les alentours.",
    favorites: [
      {
        title: "Panorama Trail Cabin",
        text: "Cabane perch√©e proche des d√©parts de randonn√©e, avec cartes et spots secrets."
      },
      {
        title: "Adventure Pack",
        text: "Boucles √† pied ou √† v√©lo, snack √©nerg√©tique et conseils pour profiter de chaque journ√©e dehors."
      }
    ]
  },
  comfort: {
    label: "Cozy Gatherer",
    tag: "Cocon ‚Ä¢ Bien‚Äë√™tre",
    description:
      "Vous cherchez un cocon chaleureux : belle literie, brunchs tardifs, soir√©es jeux et temps pour se retrouver.",
    favorites: [
      {
        title: "Cozy Gatherer Tiny House",
        text: "Tiny house lumineuse, salon cosy, grande baie vitr√©e et jeux de soci√©t√©."
      },
      {
        title: "Slow Sunday Pack",
        text: "Brunch tardif, promenades douces et ambiance chill toute la journ√©e."
      }
    ]
  }
};

/* ========== LODGES ========== */
const lodges = [
  {
    id: "deep-forest-cabin",
    name: "Deep Forest Cabin",
    type: "quiet",
    personality: "Quiet Seeker",
    description:
      "Cabane en bois au c≈ìur de la for√™t, sans vis‚Äë√†‚Äëvis, id√©ale pour une digital detox √† deux.",
    features: [
      "Emplacement isol√©, aucun voisin direct",
      "Po√™le √† bois & grande baie vitr√©e",
      "Petit‚Äëd√©jeuner local livr√© √† la cabane"
    ],
    price: "√Ä partir de 260‚Ç¨ / nuit",
    image: "Site 2.png"
  },
  {
    id: "moonlight-lodge",
    name: "Moonlight Lodge",
    type: "romantic",
    personality: "Romantic Drifter",
    description:
      "Lodge romantique avec bain nordique priv√© et vue d√©gag√©e sur la nature.",
    features: [
      "Bain nordique ext√©rieur fumant",
      "Guirlandes lumineuses & ambiance cosy",
      "Option d√Æner aux chandelles"
    ],
    price: "√Ä partir de 320‚Ç¨ / nuit",
    image: "site 1.png"
  },
  {
    id: "panorama-trail-cabin",
    name: "Panorama Trail Cabin",
    type: "wild",
    personality: "Wild Explorer",
    description:
      "Base camp confortable √† deux pas des sentiers panoramiques et points de vue.",
    features: [
      "Acc√®s direct aux sentiers",
      "Espace feu de camp",
      "Cartes & id√©es de boucles pr√™tes"
    ],
    price: "√Ä partir de 240‚Ç¨ / nuit",
    image: "Site 3.png"
  },
  {
    id: "cozy-gatherer-tiny",
    name: "Cozy Gatherer Tiny House",
    type: "cozy",
    personality: "Cozy Gatherer",
    description:
      "Tiny house lumineuse pens√©e comme un cocon pour se retrouver √† deux ou en petite famille.",
    features: [
      "Literie haut de gamme",
      "Grand salon cosy & jeux de soci√©t√©",
      "Option brunch tardif livr√©"
    ],
    price: "√Ä partir de 280‚Ç¨ / nuit",
    image: "Site 4.png"
  }
];

/* ========== MOOD CARDS (6 CARTES) ========== */
const moodCards = [
  {
    type: "detox",
    title: "Cabane en pleine for√™t",
    tag: "Silence absolu",
    text: "Cabane isol√©e, entour√©e d‚Äôarbres.",
    image: "Swipe 1.jpg"
  },
  {
    type: "romantic",
    title: "Bain nordique au coucher du soleil",
    tag: "Romantic spa",
    text: "Bain chaud ext√©rieur avec vue.",
    image: "Swipe 2.jpg"
  },
  {
    type: "adventure",
    title: "Randonn√©e panoramique",
    tag: "Nature aventure",
    text: "Sentier avec vue sur la vall√©e.",
    image: "Swipe 3.jpg"
  },
  {
    type: "comfort",
    title: "Tiny house cocoon",
    tag: "Cosy & chill",
    text: "Int√©rieur chaleureux, grande literie.",
    image: "Swipe 4.jpg"
  },
  {
    type: "detox",
    title: "Hamac entre les pins",
    tag: "Digital detox",
    text: "Sieste sans notifications.",
    image: "Swipe 5.jpg"
  },
  {
    type: "romantic",
    title: "D√Æner aux chandelles",
    tag: "Couple time",
    text: "Table pour deux, produits locaux.",
    image: "Swipe 6.jpg"
  }
];

/* ========== √âTAT GLOBAL ========== */
let currentLang = "fr";
let questions = questionsByLang[currentLang];
let currentQuestion = 0;
let answersHistory = [];
let moodLikes = [];
let scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };
let currentLodgeType = "quiet";

/* ========== DOM ========== */
const heroKicker = document.getElementById("heroKicker");
const heroTitle = document.getElementById("heroTitle");
const heroSub = document.getElementById("heroSub");
const heroMetaTypes = document.getElementById("heroMetaTypes");
const heroMetaLodges = document.getElementById("heroMetaLodges");
const heroMetaOpening = document.getElementById("heroMetaOpening");
const heroQuizBtn = document.getElementById("heroQuizBtn");
const heroLodgesBtn = document.getElementById("heroLodgesBtn");
const sideLabel = document.getElementById("sideLabel");
const sideTitle = document.getElementById("sideTitle");
const sideTypes = document.getElementById("sideTypes");

const tabs = document.querySelectorAll(".app-tabs-top .tab");
const views = document.querySelectorAll(".view");

const quizTitle = document.getElementById("quizTitle");
const quizSubtitle = document.getElementById("quizSubtitle");
const quizStepLabel = document.getElementById("quizStepLabel");
const quizFill = document.getElementById("quizFill");
const quizQuestion = document.getElementById("quizQuestion");
const quizAnswers = document.getElementById("quizAnswers");
const nextBtn = document.getElementById("nextBtn");

const swipeTitle = document.getElementById("swipeTitle");
const swipeSubtitle = document.getElementById("swipeSubtitle");
const swipeWrapper = document.getElementById("swipeWrapper");
const swipeEmptyEl = document.getElementById("swipeEmpty");
const likeBtn = document.getElementById("likeBtn");
const dislikeBtn = document.getElementById("dislikeBtn");

const matchTitle = document.getElementById("matchTitle");
const matchSubtitle = document.getElementById("matchSubtitle");
const favListEl = document.getElementById("favList");
const matchIntroEl = document.getElementById("matchIntro");

const settingsTitle = document.getElementById("settingsTitle");
const settingsSubtitle = document.getElementById("settingsSubtitle");
const settingsSoundLabel = document.getElementById("settingsSoundLabel");
const settingsAnimationsLabel = document.getElementById("settingsAnimationsLabel");
const settingsReplayLabel = document.getElementById("settingsReplayLabel");
const restartBtn = document.getElementById("restartBtn");
const soundToggle = document.getElementById("soundToggle");
const animToggle = document.getElementById("animToggle");

const profileTitle = document.getElementById("profileTitle");
const profileSubtitle = document.getElementById("profileSubtitle");
const profileTypeEl = document.getElementById("profileType");
const profileTagEl = document.getElementById("profileTag");
const profileTextEl = document.getElementById("profileText");
const profileMixBar = document.getElementById("profileMixBar");
const seeLodgesBtn = document.getElementById("seeLodgesBtn");

const tabQuizLabel = document.getElementById("tabQuizLabel");
const tabSwipeLabel = document.getElementById("tabSwipeLabel");
const tabMatchLabel = document.getElementById("tabMatchLabel");
const tabSettingsLabel = document.getElementById("tabSettingsLabel");

const lodgesTitle = document.getElementById("lodgesTitle");
const lodgesSubtitle = document.getElementById("lodgesSubtitle");
const checkinLabel = document.getElementById("checkinLabel");
const nightsLabel = document.getElementById("nightsLabel");
const guestsLabel = document.getElementById("guestsLabel");
const checkAvailBtn = document.getElementById("checkAvailBtn");
const lodgesList = document.getElementById("lodgesList");
const lodgeFilterButtons = document.querySelectorAll(".lodge-filter");

const infoTitle = document.getElementById("infoTitle");
const infoSubtitle = document.getElementById("infoSubtitle");
const infoAccessTitle = document.getElementById("infoAccessTitle");
const infoAccessText = document.getElementById("infoAccessText");
const infoStayTitle = document.getElementById("infoStayTitle");
const infoStayText = document.getElementById("infoStayText");
const infoSustainTitle = document.getElementById("infoSustainTitle");
const infoSustainText = document.getElementById("infoSustainText");
const infoContactTitle = document.getElementById("infoContactTitle");
const infoContactText = document.getElementById("infoContactText");

const langButtons = document.querySelectorAll(".lang-btn");
const headerBookBtn = document.getElementById("headerBookBtn");
const heroSection = document.getElementById("experienceSection");
const lodgesPage = document.getElementById("lodgesPage");
const infoPage = document.getElementById("aboutPage");

const profileIcon = document.querySelector(".profile-icon");
const natureAudio = document.getElementById("natureAudio");

/* ========== NAV VUES APP ========== */
function showView(id) {
  views.forEach((v) => v.classList.remove("active"));
  document.getElementById("view-" + id).classList.add("active");
  tabs.forEach((t) => t.classList.toggle("active", t.dataset.view === id));
}

tabs.forEach((tab) => {
  tab.addEventListener("click", () => showView(tab.dataset.view));
});

profileIcon.addEventListener("click", () => {
  showView("quiz");
  heroSection.scrollIntoView({ behavior: "smooth" });
});

heroQuizBtn.addEventListener("click", () => {
  showView("quiz");
  heroSection.scrollIntoView({ behavior: "smooth" });
});

heroLodgesBtn.addEventListener("click", () => {
  renderLodges("all");
  lodgesPage.scrollIntoView({ behavior: "smooth" });
});

headerBookBtn.addEventListener("click", () => {
  renderLodges(currentLodgeType);
  lodgesPage.scrollIntoView({ behavior: "smooth" });
});

/* ========== QUIZ ========== */
function renderQuestion() {
  const total = questions.length;
  const q = questions[currentQuestion];
  if (!q) return;

  quizQuestion.textContent = q.text;
  quizAnswers.innerHTML = "";
  nextBtn.disabled = true;

  q.answers.forEach((ans) => {
    const btn = document.createElement("button");
    btn.className = "answer-btn";
    btn.textContent = ans.text;
    btn.addEventListener("click", () => {
      document
        .querySelectorAll(".answer-btn")
        .forEach((b) => b.classList.remove("selected"));
      btn.classList.add("selected");
      answersHistory[currentQuestion] = ans.type;
      nextBtn.disabled = false;
    });
    quizAnswers.appendChild(btn);
  });

  const t = translations[currentLang];
  quizStepLabel.textContent = t.questionLabel(currentQuestion + 1, total);
  quizFill.style.width = ((currentQuestion + 1) / total) * 100 + "%";
}

nextBtn.addEventListener("click", () => {
  if (currentQuestion < questions.length - 1) {
    currentQuestion++;
    renderQuestion();
  } else {
    updateProfileAndFavorites();
    showView("match"); // apr√®s le quiz, on met l‚Äôonglet Match
    heroSection.scrollIntoView({ behavior: "smooth" });
  }
});

/* ========== MOOD CARDS ========== */
function renderMoodCards() {
  swipeWrapper.innerHTML = "";
  moodLikes = [];

  if (!moodCards.length) {
    swipeWrapper.innerHTML = `<p class="swipe-empty">${translations[currentLang].swipeEmptyStart}</p>`;
    return;
  }

  for (let i = moodCards.length - 1; i >= 0; i--) {
    const c = moodCards[i];
    const card = document.createElement("div");
    card.className = "swipe-card";
    card.dataset.type = c.type;
    card.innerHTML = `
      <img src="${c.image}" alt="${c.title}">
      <div class="swipe-badge like">LIKE</div>
      <div class="swipe-badge dislike">NOPE</div>
      <div class="swipe-card-body">
        <div class="swipe-label">${c.title}</div>
        <div class="swipe-tag">${c.tag}</div>
        <div>${c.text}</div>
      </div>
    `;
    swipeWrapper.appendChild(card);
  }
}

function getTopCard() {
  const cards = swipeWrapper.querySelectorAll(".swipe-card");
  if (!cards.length) return null;
  return cards[cards.length - 1];
}

function swipe(liked) {
  const card = getTopCard();
  if (!card) return;

  const likeBadge = card.querySelector(".swipe-badge.like");
  const dislikeBadge = card.querySelector(".swipe-badge.dislike");

  if (liked) {
    moodLikes.push(card.dataset.type);
    likeBadge.style.opacity = "1";
    card.style.transform = "translateX(120%) rotate(10deg)";
  } else {
    dislikeBadge.style.opacity = "1";
    card.style.transform = "translateX(-120%) rotate(-10deg)";
  }
  card.style.opacity = "0";

  setTimeout(() => {
    card.remove();
    if (!getTopCard()) {
      swipeWrapper.innerHTML = `<p class="swipe-empty">${translations[currentLang].swipeEmptyEnd}</p>`;
      updateProfileAndFavorites();
    }
  }, 220);
}

likeBtn.addEventListener("click", () => swipe(true));
dislikeBtn.addEventListener("click", () => swipe(false));

/* ========== SCORES & PROFIL ========== */
function computeScores() {
  scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };
  answersHistory.forEach((t) => {
    if (scores[t] != null) scores[t]++;
  });
  moodLikes.forEach((t) => {
    if (scores[t] != null) scores[t]++;
  });
}

function getTopType() {
  computeScores();
  let max = -1;
  let top = "detox";
  Object.entries(scores).forEach(([type, value]) => {
    if (value > max) {
      max = value;
      top = type;
    }
  });
  return top;
}

function mapTypeToLodgeType(t) {
  if (t === "detox") return "quiet";
  if (t === "romantic") return "romantic";
  if (t === "adventure") return "wild";
  if (t === "comfort") return "cozy";
  return "quiet";
}

function updateProfileAndFavorites() {
  if (!answersHistory.length && !moodLikes.length) {
    profileTypeEl.textContent = translations[currentLang].profileIntro;
    profileTagEl.style.display = "none";
    profileTextEl.textContent = "";
    profileMixBar.innerHTML = "";
    favListEl.innerHTML = "";
    favListEl.appendChild(matchIntroEl);
    matchIntroEl.textContent = translations[currentLang].matchIntro;
    currentLodgeType = "quiet";
    return;
  }

  const topType = getTopType();
  const cfg = profiles[topType];
  currentLodgeType = mapTypeToLodgeType(topType);

  profileTypeEl.textContent = cfg.label;
  profileTagEl.style.display = "inline-block";
  profileTagEl.textContent = cfg.tag;
  profileTextEl.textContent = cfg.description;

  favListEl.innerHTML = "";
  cfg.favorites.forEach((item) => {
    const div = document.createElement("div");
    div.className = "fav-item";
    div.innerHTML = `<div class="fav-title">${item.title}</div><div>${item.text}</div>`;
    favListEl.appendChild(div);
  });

  profileMixBar.innerHTML = "";
  const total =
    scores.detox + scores.romantic + scores.adventure + scores.comfort || 1;
  const segments = [
    { key: "detox", color: "#4f7c5b" },
    { key: "romantic", color: "#c96a6a" },
    { key: "adventure", color: "#4a6fae" },
    { key: "comfort", color: "#cf9d29" }
  ];
  segments.forEach((seg) => {
    const width = (scores[seg.key] / total) * 100;
    const bar = document.createElement("div");
    bar.style.width = width + "%";
    bar.style.background = seg.color;
    profileMixBar.appendChild(bar);
  });
}

/* ========== LODGES & FAKE BOOKING ========== */
function renderLodges(filterType = "all") {
  lodgesList.innerHTML = "";
  const t = translations[currentLang];

  const data = lodges.filter(
    (l) => filterType === "all" || l.type === filterType
  );

  if (!data.length) {
    lodgesList.innerHTML =
      '<p style="font-family:Montserrat,system-ui,sans-serif;font-size:0.8rem;color:#7b6751;">Aucun lodge disponible pour ce filtre.</p>';
    return;
  }

  data.forEach((l) => {
    const card = document.createElement("article");
    card.className = "lodge-card";
    card.innerHTML = `
      <div>
        <img src="${l.image}" alt="${l.name}">
      </div>
      <div>
        <div class="lodge-badge">${l.personality}</div>
        <h3 class="lodge-name">${l.name}</h3>
        <p class="lodge-desc">${l.description}</p>
        <ul class="lodge-features">
          ${l.features.map((f) => `<li>${f}</li>`).join("")}
        </ul>
        <div class="lodge-bottom">
          <span class="lodge-price">${l.price}</span>
          <button class="primary-btn" data-book="${l.id}">
            Book this lodge
          </button>
        </div>
      </div>
    `;
    lodgesList.appendChild(card);
  });

  lodgesList.querySelectorAll("button[data-book]").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lodgeId = btn.getAttribute("data-book");
      openFakeBooking(lodgeId);
    });
  });
}

function openFakeBooking(lodgeId) {
  const lodge = lodges.find((l) => l.id === lodgeId);
  if (!lodge) return;
  alert(translations[currentLang].fakeBookingMsg(lodge.name));
}

lodgeFilterButtons.forEach((btn) => {
  btn.addEventListener("click", () => {
    lodgeFilterButtons.forEach((b) => b.classList.remove("active"));
    btn.classList.add("active");
    renderLodges(btn.dataset.type);
  });
});

seeLodgesBtn.addEventListener("click", () => {
  renderLodges(currentLodgeType);
  lodgesPage.scrollIntoView({ behavior: "smooth" });
});

checkAvailBtn.addEventListener("click", () => {
  alert(translations[currentLang].fakeSearchMsg);
});

/* ========== SETTINGS (SON, ANIMATIONS) ========== */
soundToggle.addEventListener("click", () => {
  soundToggle.classList.toggle("active");
  const on = soundToggle.classList.contains("active");

  if (on) {
    natureAudio.volume = 0.35;
    natureAudio.play().catch(() => {});
  } else {
    natureAudio.pause();
  }
});

animToggle.addEventListener("click", () => {
  animToggle.classList.toggle("active");
});

/* RESET QUIZ */
restartBtn.addEventListener("click", () => {
  currentQuestion = 0;
  answersHistory = [];
  moodLikes = [];
  scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };
  renderQuestion();
  renderMoodCards();
  updateProfileAndFavorites();
  showView("quiz");
});

/* ========== CHANGEMENT DE LANGUE ========== */
function applyTranslations() {
  const t = translations[currentLang];

  heroKicker.textContent = t.heroKicker;
  heroTitle.textContent = t.heroTitle;
  heroSub.textContent = t.heroSub;
  heroMetaTypes.textContent = t.heroMetaTypes;
  heroMetaLodges.textContent = t.heroMetaLodges;
  heroMetaOpening.textContent = t.heroMetaOpening;
  heroQuizBtn.textContent = t.heroQuizBtn;
  heroLodgesBtn.textContent = t.heroLodgesBtn;
  sideLabel.textContent = t.sideLabel;
  sideTitle.textContent = t.sideTitle;
  sideTypes.textContent = t.sideTypes;

  quizTitle.textContent = t.quizTitle;
  quizSubtitle.textContent = t.quizSubtitle;
  swipeTitle.textContent = t.swipeTitle;
  swipeSubtitle.textContent = t.swipeSubtitle;

  matchTitle.textContent = t.matchTitle;
  matchSubtitle.textContent = t.matchSubtitle;
  matchIntroEl.textContent = t.matchIntro;

  settingsTitle.textContent = t.settingsTitle;
  settingsSubtitle.textContent = t.settingsSubtitle;
  settingsSoundLabel.textContent = t.settingsSoundLabel;
  settingsAnimationsLabel.textContent = t.settingsAnimationsLabel;
  settingsReplayLabel.textContent = t.settingsReplayLabel;
  restartBtn.textContent = t.restartBtn;

  profileTitle.textContent = t.profileTitle;
  profileSubtitle.textContent = t.profileSubtitle;
  profileTypeEl.textContent = t.profileIntro;
  seeLodgesBtn.textContent = t.seeLodgesBtn;

  tabQuizLabel.textContent = t.tabQuizLabel;
  tabSwipeLabel.textContent = t.tabSwipeLabel;
  tabMatchLabel.textContent = t.tabMatchLabel;
  tabSettingsLabel.textContent = t.tabSettingsLabel;

  lodgesTitle.textContent = t.lodgesTitle;
  lodgesSubtitle.textContent = t.lodgesSubtitle;
  checkinLabel.textContent = t.checkinLabel;
  nightsLabel.textContent = t.nightsLabel;
  guestsLabel.textContent = t.guestsLabel;
  checkAvailBtn.textContent = t.checkAvailBtn;

  infoTitle.textContent = t.infoTitle;
  infoSubtitle.textContent = t.infoSubtitle;
  infoAccessTitle.textContent = t.infoAccessTitle;
  infoAccessText.textContent = t.infoAccessText;
  infoStayTitle.textContent = t.infoStayTitle;
  infoStayText.textContent = t.infoStayText;
  infoSustainTitle.textContent = t.infoSustainTitle;
  infoSustainText.textContent = t.infoSustainText;
  infoContactTitle.textContent = t.infoContactTitle;
  infoContactText.textContent = t.infoContactText;

  lodgeFilterButtons.forEach((btn) => {
    if (btn.dataset.type === "all") btn.textContent = t.lodgeFilterAll;
    if (btn.dataset.type === "quiet") btn.textContent = t.lodgeFilterQuiet;
    if (btn.dataset.type === "romantic")
      btn.textContent = t.lodgeFilterRomantic;
    if (btn.dataset.type === "wild") btn.textContent = t.lodgeFilterWild;
    if (btn.dataset.type === "cozy") btn.textContent = t.lodgeFilterCozy;
  });

  swipeEmptyEl.textContent = t.swipeEmptyStart;
}

function setLanguage(lang) {
  if (!translations[lang]) return;
  currentLang = lang;
  questions =
    questionsByLang[currentLang] && questionsByLang[currentLang].length
      ? questionsByLang[currentLang]
      : questionsByLang["fr"];

  currentQuestion = 0;
  answersHistory = [];
  renderQuestion();
  renderMoodCards();
  updateProfileAndFavorites();
  applyTranslations();
  document.documentElement.lang = lang;
}

langButtons.forEach((btn) => {
  btn.addEventListener("click", () => {
    langButtons.forEach((b) => b.classList.remove("active"));
    btn.classList.add("active");
    setLanguage(btn.dataset.lang);
  });
});

/* ========== INIT ========== */
setLanguage("fr");
renderQuestion();
renderMoodCards();
updateProfileAndFavorites();
renderLodges("all");
showView("quiz");
</script>

</body>
</html>

