<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Serenity Woods ‚Äì Glamping Personality</title>
  <style>
    :root {
      --green: #1f4b2c;
      --brown: #8a5a33;
      --gold:  #c89b4a;
      --cream: #f5f1e8;
      --text:  #2b2b2b;
    }
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Georgia", serif;
      background: radial-gradient(circle at top, #fdf9f0 0, var(--cream) 45%, #ece1ce 100%);
      color: var(--text);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .app-shell {
      width: 100%;
      max-width: 420px;
      height: 720px;
      background: #fffdf8;
      border-radius: 28px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.15);
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
    }

    /* HEADER */
    .app-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 12px 6px;
      background: linear-gradient(120deg, #fdf7eb, #f3e7d4);
      border-bottom: 1px solid #e1d4c2;
      gap: 6px;
    }
    .app-header-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .app-brand {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .app-brand img.logo {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid var(--green);
      object-fit: cover;
    }
    .app-brand h1 {
      margin: 0;
      font-size: 1rem;
      color: var(--green);
    }
    .tagline {
      margin: 0;
      font-size: 0.7rem;
      color: #6a6359;
      font-family: "Montserrat", system-ui, sans-serif;
    }
    .lang-switcher {
      display: flex;
      gap: 4px;
      margin-left: 4px;
    }
    .lang-btn {
      border: 1px solid #d1c4b3;
      background: #fff8ee;
      border-radius: 999px;
      font-size: 0.65rem;
      font-family: "Montserrat", system-ui, sans-serif;
      padding: 2px 6px;
      cursor: pointer;
      color: #6a6359;
    }
    .lang-btn.active {
      background: #1f4b2c;
      color: #fff;
      border-color: #1f4b2c;
    }
    .profile-icon {
      border-radius: 999px;
      border: 1px solid #d1c4b3;
      background: #fff8ee;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.05rem;
    }

    /* TABS */
    .app-tabs {
      display: flex;
      border-top: 1px solid #e1d4c2;
      background: #f7efe2;
    }
    .tab {
      flex: 1;
      padding: 8px 4px 6px;
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: 0.7rem;
      font-family: "Montserrat", system-ui, sans-serif;
      color: #7a6e5e;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
    }
    .tab span.icon { font-size: 1rem; }
    .tab.active {
      color: var(--green);
      font-weight: 600;
      background: #fdf7ec;
      box-shadow: 0 -2px 0 var(--green) inset;
    }

    /* VUES */
    .views {
      flex: 1;
      padding: 14px 16px 6px;
      overflow-y: auto;
      background: radial-gradient(circle at top, #fefaf3, #f6eee1);
    }
    .view { display: none; }
    .view.active { display: block; }

    .card-shell {
      background: #ffffffdf;
      border-radius: 20px;
      padding: 16px 14px 18px;
      box-shadow: 0 10px 24px rgba(0,0,0,0.08);
      border: 1px solid #e5d8c4;
    }
    .section-title {
      font-size: 1rem;
      color: var(--green);
      margin: 0 0 4px;
    }
    .section-sub {
      margin: 0 0 12px;
      font-size: 0.8rem;
      color: #6b645b;
      font-family: "Montserrat", system-ui, sans-serif;
    }

    /* QUIZ */
    .quiz-progress {
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      margin-bottom: 8px;
    }
    .quiz-bar {
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: #e8ddcd;
      overflow: hidden;
      margin-top: 4px;
    }
    .quiz-fill {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, var(--brown), var(--gold));
      transition: width 0.25s ease;
    }
    .quiz-question {
      font-size: 0.95rem;
      margin: 12px 0 10px;
      color: #3c352d;
    }
    .quiz-answers {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .answer-btn {
      border-radius: 14px;
      padding: 10px;
      border: 1px solid #ddd0bf;
      background: #faf5ec;
      font-size: 0.82rem;
      font-family: "Montserrat", system-ui, sans-serif;
      text-align: left;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }
    .answer-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.1);
      border-color: var(--gold);
    }
    .answer-btn.selected {
      border-color: var(--green);
      background: #f1f7f3;
    }
    .quiz-cta {
      display: flex;
      justify-content: flex-end;
      margin-top: 10px;
    }
    .primary-btn {
      border-radius: 999px;
      border: none;
      background: linear-gradient(120deg, var(--green), var(--brown));
      color: #fff;
      font-size: 0.8rem;
      font-family: "Montserrat", system-ui, sans-serif;
      padding: 8px 16px;
      cursor: pointer;
    }
    .primary-btn:disabled {
      opacity: 0.5;
      cursor: default;
    }

    /* PROFILE */
    .profile-card { text-align: center; }
    .profile-type {
      font-size: 1.05rem;
      color: var(--green);
      margin-bottom: 4px;
    }
    .profile-tag {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 999px;
      background: #f5ebdc;
      border: 1px solid #e1d0b7;
      font-size: 0.7rem;
      font-family: "Montserrat", system-ui, sans-serif;
      color: #7a5f3a;
      margin-bottom: 8px;
    }
    .profile-text {
      font-size: 0.8rem;
      font-family: "Montserrat", system-ui, sans-serif;
      color: #5d554c;
      margin-bottom: 10px;
    }

    /* FAVORITES */
    .fav-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 6px;
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
    }
    .fav-item {
      border-radius: 14px;
      padding: 10px;
      background: #faf4ea;
      border: 1px solid #e3d3c0;
    }
    .fav-title {
      font-weight: 600;
      color: var(--green);
      margin-bottom: 2px;
    }

    /* SETTINGS */
    .setting-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      border-bottom: 1px solid #eee0cf;
    }
    .toggle {
      position: relative;
      width: 38px;
      height: 20px;
      border-radius: 999px;
      background: #d1c2af;
      cursor: pointer;
    }
    .toggle::before {
      content: "";
      position: absolute;
      top: 2px;
      left: 2px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #fff;
      transition: transform 0.2s ease;
    }
    .toggle.active { background: var(--green); }
    .toggle.active::before { transform: translateX(18px); }
    .secondary-btn {
      border-radius: 999px;
      border: 1px solid #d0c0aa;
      background: #f8eee1;
      font-size: 0.8rem;
      font-family: "Montserrat", system-ui, sans-serif;
      padding: 6px 12px;
      cursor: pointer;
      color: #5b4b3a;
    }

    /* SWIPE GALLERY */
    .swipe-wrapper {
      position: relative;
      width: 100%;
      height: 360px;
      margin-top: 8px;
      overflow: hidden;
    }
    .swipe-card {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 340px;
      height: 100%;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 10px 22px rgba(0,0,0,0.12);
      border: 1px solid #e3d3c0;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform 0.25s ease, opacity 0.25s ease;
    }
    .swipe-card img {
      width: 100%;
      height: 65%;
      object-fit: cover;
    }
    .swipe-card-body {
      padding: 8px 10px 10px;
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      color: #4c463f;
    }
    .swipe-label {
      font-weight: 600;
      color: var(--green);
      margin-bottom: 2px;
    }
    .swipe-tag {
      font-size: 0.7rem;
      color: #8a5a33;
      margin-bottom: 4px;
    }
    .swipe-cta-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 12px;
    }
    .swipe-btn {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 18px rgba(0,0,0,0.15);
    }
    .swipe-btn.dislike {
      background: #fbe4e0;
      color: #b33939;
    }
    .swipe-btn.like {
      background: #e6f5ea;
      color: #1f7a3b;
    }
    .swipe-empty {
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      color: #6b645b;
      text-align: center;
      margin-top: 40px;
    }

    @media (max-width: 480px) {
      .app-shell { max-width: 100%; height: 100vh; border-radius: 0; }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <!-- HEADER -->
    <header class="app-header">
      <div class="app-header-left">
        <div class="app-brand">
          <img src="logo-serenity-woods.jpg" alt="Serenity Woods logo" class="logo">
          <div>
            <h1>Serenity Woods</h1>
            <p class="tagline">What‚Äôs your glamping personality?</p>
          </div>
        </div>
        <div class="lang-switcher">
          <button class="lang-btn active" data-lang="fr">FR</button>
          <button class="lang-btn" data-lang="en">EN</button>
          <button class="lang-btn" data-lang="nl">NL</button>
        </div>
      </div>
      <button class="profile-icon" data-view="profile">üë§</button>
    </header>

    <!-- VUES -->
    <div class="views">
      <!-- QUIZ -->
      <section class="view active" id="view-quiz">
        <div class="card-shell">
          <h2 class="section-title" id="quizTitle">Glamping Personality Quiz</h2>
          <p class="section-sub" id="quizSubtitle">
            R√©pondez √† 10 questions et d√©couvrez votre exp√©rience id√©ale √† Serenity Woods.
          </p>

          <div class="quiz-progress">
            <span id="quizStepLabel">Question 1 / 10</span>
            <div class="quiz-bar">
              <div class="quiz-fill" id="quizFill"></div>
            </div>
          </div>

          <div id="quizQuestion" class="quiz-question"></div>
          <div id="quizAnswers" class="quiz-answers"></div>

          <div class="quiz-cta">
            <button id="nextBtn" class="primary-btn" disabled>Suivant ‚Üí</button>
          </div>
        </div>
      </section>

      <!-- SWIPE GALLERY -->
      <section class="view" id="view-swipe">
        <div class="card-shell">
          <h2 class="section-title" id="swipeTitle">Swipe your glamping vibes</h2>
          <p class="section-sub" id="swipeSubtitle">
            Swipez √† droite si vous aimez, √† gauche si ce n‚Äôest pas pour vous. Nous devinons votre type de glamping.
          </p>

          <div class="swipe-wrapper" id="swipeWrapper">
            <!-- Les cartes seront inject√©es en JS -->
            <p class="swipe-empty" id="swipeEmpty">Commencez √† swiper pour voir vos pr√©f√©rences.</p>
          </div>

          <div class="swipe-cta-row">
            <button class="swipe-btn dislike" id="dislikeBtn">‚úï</button>
            <button class="swipe-btn like" id="likeBtn">‚ô°</button>
          </div>
        </div>
      </section>

      <!-- PROFILE / RESULT -->
      <section class="view" id="view-profile">
        <div class="card-shell profile-card">
          <h2 class="section-title" id="profileTitle">Votre glamping personality</h2>
          <p class="section-sub" id="profileSubtitle">Bas√©e sur vos r√©ponses au quiz et vos swipes.</p>

          <div id="profileType" class="profile-type">Compl√©tez le quiz ou la galerie pour d√©couvrir votre profil.</div>
          <div id="profileTag" class="profile-tag" style="display:none;"></div>
          <p id="profileText" class="profile-text"></p>
        </div>
      </section>

      <!-- FAVORITES / MATCH -->
      <section class="view" id="view-favorites">
        <div class="card-shell">
          <h2 class="section-title" id="matchTitle">Your Serenity Woods match</h2>
          <p class="section-sub" id="matchSubtitle">Des exp√©riences recommand√©es selon votre glamping personality.</p>
          <div id="favList" class="fav-list">
            <p id="matchIntro" style="font-size:0.8rem;font-family:Montserrat,system-ui,sans-serif;color:#6b645b;">
              R√©pondez au quiz ou utilisez la galerie pour voir les exp√©riences qui correspondent √† votre couple.
            </p>
          </div>
        </div>
      </section>

      <!-- SETTINGS -->
      <section class="view" id="view-settings">
        <div class="card-shell">
          <h2 class="section-title" id="settingsTitle">Settings</h2>
          <p class="section-sub" id="settingsSubtitle">Options simples pour votre exp√©rience.</p>

          <div class="setting-row">
            <span id="settingsSoundLabel">Sons du quiz</span>
            <div id="soundToggle" class="toggle"></div>
          </div>

          <div class="setting-row" style="border-bottom:none;">
            <span id="settingsReplayLabel">Rejouer le quiz</span>
            <button id="restartBtn" class="secondary-btn">Reset quiz</button>
          </div>
        </div>
      </section>
    </div>

    <!-- TABS BAS DE L'APP -->
    <nav class="app-tabs">
      <button class="tab active" data-view="quiz">
        <span class="icon">‚ùì</span>
        <span class="tab-label" id="tabQuizLabel">Quiz</span>
      </button>
      <button class="tab" data-view="swipe">
        <span class="icon">üì∑</span>
        <span class="tab-label" id="tabSwipeLabel">Swipe</span>
      </button>
      <button class="tab" data-view="favorites">
        <span class="icon">‚ú®</span>
        <span class="tab-label" id="tabMatchLabel">Match</span>
      </button>
      <button class="tab" data-view="settings">
        <span class="icon">‚öôÔ∏è</span>
        <span class="tab-label" id="tabSettingsLabel">Settings</span>
      </button>
    </nav>
  </div>

  <!-- PARTIE 2/2 : tout le script JS viendra ici -->
  <!-- <script> ... </script> -->

</body>
</html>
  <script>
    // ===== CONFIG MULTILINGUE =====
    const translations = {
      fr: {
        ui: {
          appTitle: "Serenity Woods",
          tagline: "What‚Äôs your glamping personality?",
          quizTitle: "Glamping Personality Quiz",
          quizSubtitle: "R√©pondez √† 10 questions et d√©couvrez votre exp√©rience id√©ale √† Serenity Woods.",
          next: "Suivant ‚Üí",
          swipeTitle: "Swipe your glamping vibes",
          swipeSubtitle: "Swipez √† droite si vous aimez, √† gauche si ce n‚Äôest pas pour vous. Nous devinons votre type de glamping.",
          profileTitle: "Votre glamping personality",
          profileSubtitle: "Bas√©e sur vos r√©ponses au quiz et vos swipes.",
          profilePlaceholder: "Compl√©tez le quiz ou la galerie pour d√©couvrir votre profil.",
          matchTitle: "Your Serenity Woods match",
          matchSubtitle: "Des exp√©riences recommand√©es selon votre glamping personality.",
          matchIntro: "R√©pondez au quiz ou utilisez la galerie pour voir les exp√©riences qui correspondent √† votre couple.",
          settingsTitle: "Settings",
          settingsSubtitle: "Options simples pour votre exp√©rience.",
          settingsSoundLabel: "Sons du quiz",
          settingsReplayLabel: "Rejouer le quiz",
          reset: "Reset quiz",
          tabQuiz: "Quiz",
          tabSwipe: "Swipe",
          tabMatch: "Match",
          tabSettings: "Settings",
          swipeEmpty: "Commencez √† swiper pour voir vos pr√©f√©rences.",
          questionLabel: (i, total) => `Question ${i} / ${total}`
        },
        questions: [
          {
            text: "Quand vous pensez √† un week-end id√©al, vous imaginez plut√¥t :",
            answers: [
              "Une cabane isol√©e, sans voisins, juste les arbres",
              "Un lodge avec bain chaud et d√Æner aux chandelles",
              "Des activit√©s en pleine nature, chemins, v√©lo, kayak",
              "Un h√©bergement confortable, proche de quelques services"
            ]
          },
          {
            text: "Le matin, votre mood :",
            answers: [
              "R√©veil naturel, aucun r√©veil, juste le silence",
              "Petit-d√©jeuner au lit avec vue, ambiance cosy",
              "Lever t√¥t pour profiter au maximum des activit√©s",
              "Grasse matin√©e puis balade tranquille dans les bois"
            ]
          },
          {
            text: "Votre rapport au t√©l√©phone en week-end :",
            answers: [
              "Mode avion quasi tout le week-end",
              "Quelques photos √† deux, puis t√©l√©phone rang√©",
              "Photos, vid√©os et carte pour explorer les environs",
              "Je le garde pour le confort (infos pratiques, musique)"
            ]
          },
          {
            text: "Le soir, votre moment pr√©f√©r√© :",
            answers: [
              "Lecture pr√®s du feu, sans bruit ext√©rieur",
              "D√Æner aux chandelles, ambiance intimiste",
              "Derni√®re balade, feu de camp, regarder les √©toiles",
              "Film, plaid, snacks gourmands dans un lodge douillet"
            ]
          },
          {
            text: "Niveau activit√©s, vous √™tes plut√¥t :",
            answers: [
              "Slow, yoga, respiration, marche lente en for√™t",
              "Moments √† deux, spa, massages, temps de qualit√©",
              "Randonn√©es, points de vue, sensation d‚Äôexploration",
              "Un m√©lange de petites activit√©s et beaucoup de chill"
            ]
          },
          {
            text: "Votre h√©bergement id√©al √† Serenity Woods :",
            answers: [
              "Cabane minimaliste, loin de tout, pas de vis-√†-vis",
              "Lodge romantique avec bain nordique ou jacuzzi priv√©",
              "Cabane perch√©e ou spot avec acc√®s direct aux sentiers",
              "Tiny house confortable avec belle literie et vue"
            ]
          },
          {
            text: "Quand vous pensez au mot ¬´ luxe ¬ª, vous voyez :",
            answers: [
              "Le temps, le calme, aucun planning",
              "Des attentions, des d√©tails, une ambiance pens√©e pour le couple",
              "La libert√© d‚Äôexplorer, de tester, de bouger",
              "Le confort, la chaleur, la sensation de cocon"
            ]
          },
          {
            text: "Votre activit√© signature √† Serenity Woods serait :",
            answers: [
              "D√©connexion totale : respiration, journal, sieste en hamac",
              "Bain chaud ext√©rieur au coucher du soleil, √† deux",
              "Boucle de randonn√©e avec spots panoramiques",
              "Brunch tardif, promenade, jeux de soci√©t√© dans la cabane"
            ]
          },
          {
            text: "En couple, vous cherchez surtout :",
            answers: [
              "Un endroit pour vraiment se recentrer ensemble",
              "Des moments intenses, complices, en mode parenth√®se √† deux",
              "Des souvenirs d‚Äôaventure √† raconter ensuite",
              "Un espace s√©curisant o√π on se sent bien tous les deux"
            ]
          },
          {
            text: "Si vous deviez d√©crire votre vibe en un mot :",
            answers: [
              "Slow & minimaliste",
              "Intense & amoureux",
              "Curieux & dynamique",
              "Cosy & chill"
            ]
          }
        ],
        profiles: {
          detox: {
            label: "Digital Detox Lovers",
            tag: "Silence ‚Ä¢ Nature ‚Ä¢ Slow",
            description:
              "Vous r√™vez d‚Äôun week-end o√π le temps ralentit vraiment : peu d‚Äô√©crans, beaucoup de nature, des cabanes isol√©es et un cadre pens√© pour respirer √† deux.",
            favorites: [
              {
                title: "Cabane Deep Forest",
                text: "Cabane isol√©e, aucune route visible, acc√®s direct aux sentiers et espace feu de camp pour se reconnecter loin du bruit."
              },
              {
                title: "Rituel Digital Detox",
                text: "Kit carnet + tisane + suggestions de micro-rituels pour couper des notifications et se reconnecter √† soi et √† l‚Äôautre."
              }
            ]
          },
          romantic: {
            label: "Romantic Escapists",
            tag: "Couple time ‚Ä¢ Intimit√©",
            description:
              "Votre priorit√© : cr√©er une parenth√®se √† deux, avec des attentions, une ambiance cosy et des moments qui renforcent la complicit√©.",
            favorites: [
              {
                title: "Lodge Moonlight",
                text: "Lodge avec bain nordique priv√©, √©clairages doux, playlist cosy et vue d√©gag√©e pour des soir√©es √† deux."
              },
              {
                title: "Signature Romantic Dinner",
                text: "D√Æner aux chandelles en lodge, produits locaux, ambiance intimiste et temps de qualit√© sans distraction."
              }
            ]
          },
          adventure: {
            label: "Nature Adventurers",
            tag: "Exploration ‚Ä¢ Outdoor",
            description:
              "Vous venez chercher des sensations, des sentiers, des panoramas et la satisfaction d‚Äôavoir vraiment explor√© les alentours.",
            favorites: [
              {
                title: "Cabane Panorama Trail",
                text: "Cabane perch√©e proche des d√©parts de randonn√©e, avec cartes de sentiers et conseils de spots secrets."
              },
              {
                title: "Adventure Pack",
                text: "Suggestions de boucles √† pied ou √† v√©lo, panier snack √©nerg√©tique et conseils pour profiter de chaque journ√©e dehors."
              }
            ]
          },
          comfort: {
            label: "Cosy Comfort Seekers",
            tag: "Cocon ‚Ä¢ Bien-√™tre",
            description:
              "Vous cherchez surtout un cocon chaleureux : belle literie, bons repas, temps pour se poser et se faire plaisir sans pression.",
            favorites: [
              {
                title: "Tiny House Cocoon",
                text: "Tiny house lumineuse, literie haut de gamme, plaid, grande baie vitr√©e et petit-d√©jeuner livr√©."
              },
              {
                title: "Slow Sunday Pack",
                text: "Brunch tardif, s√©lection de jeux, suggestions de promenades douces et ambiance chill toute la journ√©e."
              }
            ]
          }
        },
        swipeCards: [
          { id: 1, type: "detox", title: "Cabane en pleine for√™t", tag: "Silence absolu", text: "Cabane isol√©e sans voisins, entour√©e d‚Äôarbres.", image: "image-detox-1.jpg" },
          { id: 2, type: "romantic", title: "Bain nordique au coucher du soleil", tag: "Romantic spa", text: "Bain chaud ext√©rieur avec vue.", image: "image-romantic-1.jpg" },
          { id: 3, type: "adventure", title: "Randonn√©e panoramique", tag: "Nature aventure", text: "Sentier avec vue sur la vall√©e.", image: "image-adventure-1.jpg" },
          { id: 4, type: "comfort", title: "Tiny house cocoon", tag: "Cosy & chill", text: "Int√©rieur chaleureux, grande literie, vue for√™t.", image: "image-comfort-1.jpg" },
          { id: 5, type: "detox", title: "Hamac entre les pins", tag: "Digital detox", text: "Sieste sans notifications, juste le vent.", image: "image-detox-2.jpg" },
          { id: 6, type: "romantic", title: "D√Æner aux chandelles", tag: "Couple time", text: "Table pour deux, produits locaux.", image: "image-romantic-2.jpg" }
        ]
      },
      en: {
        ui: {
          appTitle: "Serenity Woods",
          tagline: "What‚Äôs your glamping personality?",
          quizTitle: "Glamping Personality Quiz",
          quizSubtitle: "Answer 10 questions and discover your perfect Serenity Woods experience.",
          next: "Next ‚Üí",
          swipeTitle: "Swipe your glamping vibes",
          swipeSubtitle: "Swipe right if you like it, left if it‚Äôs not for you. We‚Äôll guess your glamping type.",
          profileTitle: "Your glamping personality",
          profileSubtitle: "Based on your quiz answers and swipes.",
          profilePlaceholder: "Complete the quiz or swipe gallery to reveal your profile.",
          matchTitle: "Your Serenity Woods match",
          matchSubtitle: "Experiences recommended for your glamping personality.",
          matchIntro: "Use the quiz or the gallery to see the experiences that fit your couple.",
          settingsTitle: "Settings",
          settingsSubtitle: "Simple options for your experience.",
          settingsSoundLabel: "Quiz sounds",
          settingsReplayLabel: "Replay the quiz",
          reset: "Reset quiz",
          tabQuiz: "Quiz",
          tabSwipe: "Swipe",
          tabMatch: "Match",
          tabSettings: "Settings",
          swipeEmpty: "Start swiping to see your preferences.",
          questionLabel: (i, total) => `Question ${i} / ${total}`
        },
        questions: [
          {
            text: "When you imagine a perfect weekend, you see:",
            answers: [
              "A remote cabin with no neighbours, only trees",
              "A lodge with hot tub and candlelight dinner",
              "Outdoor activities, trails, biking, kayaking",
              "A comfy stay, close to a few services"
            ]
          },
          {
            text: "In the morning, your mood is:",
            answers: [
              "Natural wake-up, only silence",
              "Breakfast in bed with a view, cosy vibe",
              "Up early to make the most of the day",
              "Slow morning, then an easy walk in the woods"
            ]
          },
          {
            text: "Your relationship with your phone on a weekend:",
            answers: [
              "Airplane mode almost all weekend",
              "A few couple photos, then phone away",
              "Photos, videos and maps to explore",
              "I keep it for comfort (info, music)"
            ]
          },
          {
            text: "Your favorite moment in the evening:",
            answers: [
              "Reading by the fire in silence",
              "Candlelight dinner, intimate vibe",
              "Last walk, campfire, stargazing",
              "Movie, snacks, cosy lodge evening"
            ]
          },
          {
            text: "For activities, you are more:",
            answers: [
              "Slow, yoga, breathing, slow forest walks",
              "Couple time, spa, massages, quality time",
              "Hiking, viewpoints, sense of exploration",
              "Some small activities and a lot of chill"
            ]
          },
          {
            text: "Your ideal stay at Serenity Woods:",
            answers: [
              "Minimalist cabin, far from everything",
              "Romantic lodge with private hot tub",
              "Treehouse or spot with direct trail access",
              "Tiny house with great bed and view"
            ]
          },
          {
            text: "When you think of ‚Äúluxury‚Äù, you see:",
            answers: [
              "Time, silence, no schedule",
              "Thoughtful details, a couple-focused ambiance",
              "Freedom to explore and move around",
              "Comfort, warmth, a cosy cocoon"
            ]
          },
          {
            text: "Your signature activity at Serenity Woods:",
            answers: [
              "Digital detox: breathing, journaling, naps in a hammock",
              "Sunset hot tub session for two",
              "Panoramic hiking loop",
              "Late brunch, walk, board games in the cabin"
            ]
          },
          {
            text: "As a couple, you mainly look for:",
            answers: [
              "A place to reset and reconnect together",
              "Intense, intimate moments, a bubble for two",
              "Adventure memories to tell afterwards",
              "A safe, comforting space where you both feel good"
            ]
          },
          {
            text: "If you had to pick one word:",
            answers: [
              "Slow & minimalist",
              "Intense & romantic",
              "Curious & active",
              "Cosy & chill"
            ]
          }
        ],
        profiles: {
          detox: {
            label: "Digital Detox Lovers",
            tag: "Silence ‚Ä¢ Nature ‚Ä¢ Slow",
            description:
              "You dream of a weekend where time really slows down: almost no screens, lots of nature, secluded cabins and space to breathe together.",
            favorites: [
              {
                title: "Deep Forest Cabin",
                text: "Remote cabin, no visible road, direct access to trails and a campfire area to disconnect from the noise."
              },
              {
                title: "Digital Detox Ritual",
                text: "Notebook, herbal tea and micro-rituals to disconnect from notifications and reconnect with each other."
              }
            ]
          },
          romantic: {
            label: "Romantic Escapists",
            tag: "Couple time ‚Ä¢ Intimacy",
            description:
              "Your priority is creating a real bubble for two, with small touches, a cosy atmosphere and meaningful moments.",
            favorites: [
              {
                title: "Moonlight Lodge",
                text: "Lodge with private hot tub, soft lighting, cosy playlist and open view for evenings together."
              },
              {
                title: "Signature Romantic Dinner",
                text: "Candlelight lodge dinner, local products and intimate atmosphere without distractions."
              }
            ]
          },
          adventure: {
            label: "Nature Adventurers",
            tag: "Exploration ‚Ä¢ Outdoor",
            description:
              "You come for sensations, trails, viewpoints and the satisfaction of having truly explored the surroundings.",
            favorites: [
              {
                title: "Panorama Trail Cabin",
                text: "Treehouse close to hiking starts, with trail maps and tips for secret spots."
              },
              {
                title: "Adventure Pack",
                text: "Recommended walking or biking loops, snacks and tips to enjoy every day outside."
              }
            ]
          },
          comfort: {
            label: "Cosy Comfort Seekers",
            tag: "Cocoon ‚Ä¢ Well-being",
            description:
              "You mainly want a warm cocoon: great bedding, good food, time to slow down and enjoy without pressure.",
            favorites: [
              {
                title: "Cocoon Tiny House",
                text: "Tiny house with high-quality bedding, blanket, large window and breakfast delivered."
              },
              {
                title: "Slow Sunday Pack",
                text: "Late brunch, games selection, gentle walk suggestions and chill vibes all day."
              }
            ]
          }
        },
        swipeCards: [
          { id: 1, type: "detox", title: "Cabin deep in the woods", tag: "Total silence", text: "Remote cabin surrounded by trees.", image: "image-detox-1.jpg" },
          { id: 2, type: "romantic", title: "Sunset hot tub", tag: "Romantic spa", text: "Outdoor hot tub with a view.", image: "image-romantic-1.jpg" },
          { id: 3, type: "adventure", title: "Panoramic hike", tag: "Nature adventure", text: "Trail with valley views.", image: "image-adventure-1.jpg" },
          { id: 4, type: "comfort", title: "Cosy tiny house", tag: "Cosy & chill", text: "Warm interior, big bed, forest view.", image: "image-comfort-1.jpg" },
          { id: 5, type: "detox", title: "Hammock between pines", tag: "Digital detox", text: "Nap without notifications.", image: "image-detox-2.jpg" },
          { id: 6, type: "romantic", title: "Candlelight dinner", tag: "Couple time", text: "Table for two with local products.", image: "image-romantic-2.jpg" }
        ]
      },
      nl: {
        ui: {
          appTitle: "Serenity Woods",
          tagline: "What‚Äôs your glamping personality?",
          quizTitle: "Glamping Personality Quiz",
          quizSubtitle: "Beantwoord 10 vragen en ontdek jullie ideale Serenity Woods beleving.",
          next: "Volgende ‚Üí",
          swipeTitle: "Swipe je glamping vibes",
          swipeSubtitle: "Swipe naar rechts als je het leuk vindt, naar links als het niets voor jullie is. Wij raden jullie glampingtype.",
          profileTitle: "Jouw glamping personality",
          profileSubtitle: "Gebaseerd op je quizantwoorden en swipes.",
          profilePlaceholder: "Vul de quiz of de galerij in om je profiel te ontdekken.",
          matchTitle: "Jullie Serenity Woods match",
          matchSubtitle: "Aanbevolen experiences op basis van je glamping personality.",
          matchIntro: "Gebruik de quiz of de galerij om de experiences te zien die bij jullie passen.",
          settingsTitle: "Instellingen",
          settingsSubtitle: "Eenvoudige opties voor je ervaring.",
          settingsSoundLabel: "Quizgeluiden",
          settingsReplayLabel: "Quiz opnieuw spelen",
          reset: "Quiz resetten",
          tabQuiz: "Quiz",
          tabSwipe: "Swipe",
          tabMatch: "Match",
          tabSettings: "Instellingen",
          swipeEmpty: "Begin te swipen om je voorkeuren te zien.",
          questionLabel: (i, total) => `Vraag ${i} / ${total}`
        },
        questions: [
          {
            text: "Als je aan een ideaal weekend denkt, zie je vooral:",
            answers: [
              "Een afgelegen cabin zonder buren, alleen bomen",
              "Een lodge met hot tub en diner bij kaarslicht",
              "Outdoor activiteiten, paden, fietsen, kajakken",
              "Een comfortabel verblijf dicht bij enkele faciliteiten"
            ]
          },
          {
            text: "In de ochtend is je mood:",
            answers: [
              "Natuurlijk wakker worden, alleen stilte",
              "Ontbijt op bed met uitzicht, cosy sfeer",
              "Vroeg opstaan om zoveel mogelijk mee te pakken",
              "Lang uitslapen en daarna een rustige boswandeling"
            ]
          },
          {
            text: "Je relatie met je telefoon in het weekend:",
            answers: [
              "Bijna het hele weekend vliegtuigstand",
              "Enkele foto‚Äôs samen, daarna telefoon weg",
              "Foto‚Äôs, video‚Äôs en kaart om te ontdekken",
              "Ik gebruik hem voor comfort (info, muziek)"
            ]
          },
          {
            text: "Je favoriete moment ‚Äòs avonds:",
            answers: [
              "Lezen bij het vuur in stilte",
              "Diner bij kaarslicht, intieme sfeer",
              "Laatste wandeling, kampvuur, sterren kijken",
              "Film, snacks, cosy avond in de lodge"
            ]
          },
          {
            text: "Qua activiteiten ben je eerder:",
            answers: [
              "Slow, yoga, ademhaling, trage boswandelingen",
              "Tijd met z‚Äôn twee√´n, spa, massages, quality time",
              "Hiken, viewpoints, gevoel van avontuur",
              "Een paar kleine activiteiten en veel chill"
            ]
          },
          {
            text: "Je ideale verblijf bij Serenity Woods:",
            answers: [
              "Minimalistische cabin, ver weg van alles",
              "Romantische lodge met priv√© hot tub",
              "Boomhut of plek met directe trailtoegang",
              "Tiny house met heerlijk bed en uitzicht"
            ]
          },
          {
            text: "Bij het woord ‚Äòluxe‚Äô denk je aan:",
            answers: [
              "Tijd, stilte, geen planning",
              "Attenties, details, een sfeer voor koppels",
              "Vrijheid om te ontdekken en te bewegen",
              "Comfort, warmte, een knusse cocon"
            ]
          },
          {
            text: "Jouw signature activiteit bij Serenity Woods:",
            answers: [
              "Digital detox: ademhaling, journaling, dutjes in een hangmat",
              "Hot tub bij zonsondergang met z‚Äôn twee√´n",
              "Panoramische wandelroute",
              "Late brunch, wandeling, gezelschapsspelletjes in de cabin"
            ]
          },
          {
            text: "Als koppel zoeken jullie vooral:",
            answers: [
              "Een plek om echt te resetten en te reconnecten",
              "Intense, intieme momenten, een bubbel voor twee",
              "Avonturen om later over te vertellen",
              "Een veilige, comfortabele plek waar jullie je goed voelen"
            ]
          },
          {
            text: "Als je √©√©n woord moet kiezen:",
            answers: [
              "Slow & minimalistisch",
              "Intens & romantisch",
              "Nieuwsgierig & actief",
              "Cosy & chill"
            ]
          }
        ],
        profiles: {
          detox: {
            label: "Digital Detox Lovers",
            tag: "Stilte ‚Ä¢ Natuur ‚Ä¢ Slow",
            description:
              "Jullie dromen van een weekend waarin de tijd echt vertraagt: bijna geen schermen, veel natuur en afgelegen cabins om samen op adem te komen.",
            favorites: [
              {
                title: "Deep Forest Cabin",
                text: "Afgelegen cabin zonder zichtbare weg, directe toegang tot wandelpaden en kampvuurplek."
              },
              {
                title: "Digital Detox Ritueel",
                text: "Notitieboek, kruidenthee en micro-rituelen om notificaties los te laten en dichter bij elkaar te komen."
              }
            ]
          },
          romantic: {
            label: "Romantic Escapists",
            tag: "Couple time ‚Ä¢ Intimiteit",
            description:
              "Jullie willen vooral een echte bubbel voor twee, met kleine attenties, cosy sfeer en betekenisvolle momenten.",
            favorites: [
              {
                title: "Moonlight Lodge",
                text: "Lodge met priv√© hot tub, zachte verlichting, cosy playlist en open uitzicht."
              },
              {
                title: "Signature Romantic Dinner",
                text: "Diner bij kaarslicht in de lodge, lokale producten en volledige focus op elkaar."
              }
            ]
          },
          adventure: {
            label: "Nature Adventurers",
            tag: "Exploratie ‚Ä¢ Outdoor",
            description:
              "Jullie komen voor avontuur, paden, viewpoints en het gevoel echt buiten te leven.",
            favorites: [
              {
                title: "Panorama Trail Cabin",
                text: "Boomhut dicht bij de start van wandelroutes, met kaarten en tips voor geheime spots."
              },
              {
                title: "Adventure Pack",
                text: "Aanbevolen wandel- of fietslussen, snacks en tips om elke dag buiten te profiteren."
              }
            ]
          },
          comfort: {
            label: "Cosy Comfort Seekers",
            tag: "Cocon ‚Ä¢ Welzijn",
            description:
              "Jullie zoeken vooral een warme cocon: goed bed, lekker eten, tijd om te vertragen en te genieten zonder druk.",
            favorites: [
              {
                title: "Cocoon Tiny House",
                text: "Tiny house met kwaliteitsbed, plaid, grote ramen en ontbijt aan de deur."
              },
              {
                title: "Slow Sunday Pack",
                text: "Late brunch, selectie spelletjes, zachte wandelingen en de hele dag chill."
              }
            ]
          }
        },
        swipeCards: [
          { id: 1, type: "detox", title: "Cabin diep in het bos", tag: "Totale stilte", text: "Afgelegen cabin tussen de bomen.", image: "image-detox-1.jpg" },
          { id: 2, type: "romantic", title: "Hot tub bij zonsondergang", tag: "Romantic spa", text: "Buitenbad met uitzicht.", image: "image-romantic-1.jpg" },
          { id: 3, type: "adventure", title: "Panoramische hike", tag: "Nature adventure", text: "Route met uitzicht over de vallei.", image: "image-adventure-1.jpg" },
          { id: 4, type: "comfort", title: "Cosy tiny house", tag: "Cosy & chill", text: "Warm interieur, groot bed, boszicht.", image: "image-comfort-1.jpg" },
          { id: 5, type: "detox", title: "Hangmat tussen de dennen", tag: "Digital detox", text: "Dutje zonder notificaties.", image: "image-detox-2.jpg" },
          { id: 6, type: "romantic", title: "Diner bij kaarslicht", tag: "Couple time", text: "Tafel voor twee met lokale producten.", image: "image-romantic-2.jpg" }
        ]
      }
    };

    const answerTypes = ["detox", "romantic", "adventure", "comfort"];

    // ===== √âTAT GLOBAL =====
    let currentLang = "fr";
    let questions = [];
    let currentQuestion = 0;
    let answersHistory = [];
    let swipeIndex = 0;
    let swipeLikes = [];
    let scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };
    let soundOn = false;

    // ===== R√âF√âRENCES DOM =====
    const views = document.querySelectorAll(".view");
    const tabs = document.querySelectorAll(".tab");
    const profileIcon = document.querySelector(".profile-icon");

    const quizTitleEl = document.getElementById("quizTitle");
    const quizSubtitleEl = document.getElementById("quizSubtitle");
    const quizStepLabel = document.getElementById("quizStepLabel");
    const quizFill = document.getElementById("quizFill");
    const quizQuestion = document.getElementById("quizQuestion");
    const quizAnswers = document.getElementById("quizAnswers");
    const nextBtn = document.getElementById("nextBtn");

    const swipeTitleEl = document.getElementById("swipeTitle");
    const swipeSubtitleEl = document.getElementById("swipeSubtitle");
    const swipeWrapper = document.getElementById("swipeWrapper");
    const swipeEmptyEl = document.getElementById("swipeEmpty");
    const likeBtn = document.getElementById("likeBtn");
    const dislikeBtn = document.getElementById("dislikeBtn");

    const profileTitleEl = document.getElementById("profileTitle");
    const profileSubtitleEl = document.getElementById("profileSubtitle");
    const profileTypeEl = document.getElementById("profileType");
    const profileTagEl = document.getElementById("profileTag");
    const profileTextEl = document.getElementById("profileText");

    const matchTitleEl = document.getElementById("matchTitle");
    const matchSubtitleEl = document.getElementById("matchSubtitle");
    const matchIntroEl = document.getElementById("matchIntro");
    const favListEl = document.getElementById("favList");

    const settingsTitleEl = document.getElementById("settingsTitle");
    const settingsSubtitleEl = document.getElementById("settingsSubtitle");
    const settingsSoundLabelEl = document.getElementById("settingsSoundLabel");
    const settingsReplayLabelEl = document.getElementById("settingsReplayLabel");
    const soundToggle = document.getElementById("soundToggle");
    const restartBtn = document.getElementById("restartBtn");

    const tabQuizLabel = document.getElementById("tabQuizLabel");
    const tabSwipeLabel = document.getElementById("tabSwipeLabel");
    const tabMatchLabel = document.getElementById("tabMatchLabel");
    const tabSettingsLabel = document.getElementById("tabSettingsLabel");

    const langButtons = document.querySelectorAll(".lang-btn");

    // ===== NAVIGATION VUES =====
    function showView(id) {
      views.forEach(v => v.classList.remove("active"));
      document.getElementById("view-" + id).classList.add("active");
      tabs.forEach(t => {
        t.classList.toggle("active", t.dataset.view === id);
      });
    }

    tabs.forEach(tab => {
      tab.addEventListener("click", () => showView(tab.dataset.view));
    });

    profileIcon.addEventListener("click", () => showView("profile"));

    // ===== BUILD QUESTIONS PAR LANGUE =====
    function buildQuestionsForLang(lang) {
      const qTrans = translations[lang].questions;
      questions = qTrans.map(q => ({
        text: q.text,
        answers: q.answers.map((text, index) => ({
          text,
          type: answerTypes[index]
        }))
      }));
    }

    // ===== UI I18N =====
    function applyUiTranslations() {
      const t = translations[currentLang].ui;
      document.querySelector(".app-brand h1").textContent = t.appTitle;
      document.querySelector(".tagline").textContent = t.tagline;

      quizTitleEl.textContent = t.quizTitle;
      quizSubtitleEl.textContent = t.quizSubtitle;
      nextBtn.textContent = t.next;

      swipeTitleEl.textContent = t.swipeTitle;
      swipeSubtitleEl.textContent = t.swipeSubtitle;
      swipeEmptyEl.textContent = t.swipeEmpty;

      profileTitleEl.textContent = t.profileTitle;
      profileSubtitleEl.textContent = t.profileSubtitle;

      matchTitleEl.textContent = t.matchTitle;
      matchSubtitleEl.textContent = t.matchSubtitle;
      matchIntroEl.textContent = t.matchIntro;

      settingsTitleEl.textContent = t.settingsTitle;
      settingsSubtitleEl.textContent = t.settingsSubtitle;
      settingsSoundLabelEl.textContent = t.settingsSoundLabel;
      settingsReplayLabelEl.textContent = t.settingsReplayLabel;
      restartBtn.textContent = t.reset;

      tabQuizLabel.textContent = t.tabQuiz;
      tabSwipeLabel.textContent = t.tabSwipe;
      tabMatchLabel.textContent = t.tabMatch;
      tabSettingsLabel.textContent = t.tabSettings;

      if (!answersHistory.length && !swipeLikes.length) {
        profileTypeEl.textContent = t.profilePlaceholder;
        profileTagEl.style.display = "none";
        profileTextEl.textContent = "";
      }
    }

    // ===== AFFICHAGE QUESTION =====
    function renderQuestion() {
      const t = translations[currentLang].ui;
      const q = questions[currentQuestion];
      quizQuestion.textContent = q.text;
      quizAnswers.innerHTML = "";
      nextBtn.disabled = true;

      q.answers.forEach(answer => {
        const btn = document.createElement("button");
        btn.className = "answer-btn";
        btn.textContent = answer.text;
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".answer-btn")
            .forEach(b => b.classList.remove("selected"));
          btn.classList.add("selected");
          answersHistory[currentQuestion] = answer.type;
          nextBtn.disabled = false;
        });
        quizAnswers.appendChild(btn);
      });

      quizStepLabel.textContent = t.questionLabel(currentQuestion + 1, questions.length);
      quizFill.style.width = ((currentQuestion + 1) / questions.length) * 100 + "%";
    }

    // ===== SWIPE CARDS =====
    function renderSwipeCards() {
      const cardsConfig = translations[currentLang].swipeCards;
      swipeWrapper.innerHTML = "";
      swipeLikes = [];
      swipeIndex = 0;

      if (!cardsConfig.length) {
        swipeWrapper.innerHTML = `<p class="swipe-empty">${translations[currentLang].ui.swipeEmpty}</p>`;
        return;
      }

      for (let i = cardsConfig.length - 1; i >= 0; i--) {
        const c = cardsConfig[i];
        const card = document.createElement("div");
        card.className = "swipe-card";
        card.dataset.type = c.type;
        card.dataset.index = i;

        card.innerHTML = `
          <img src="${c.image}" alt="${c.title}">
          <div class="swipe-card-body">
            <div class="swipe-label">${c.title}</div>
            <div class="swipe-tag">${c.tag}</div>
            <div>${c.text}</div>
          </div>
        `;
        swipeWrapper.appendChild(card);
      }
    }

    function getTopSwipeCard() {
      const cards = swipeWrapper.querySelectorAll(".swipe-card");
      if (!cards.length) return null;
      return cards[cards.length - 1];
    }

    function handleSwipe(liked) {
      const card = getTopSwipeCard();
      if (!card) return;

      if (liked) {
        swipeLikes.push(card.dataset.type);
        card.style.transform = "translateX(120%) rotate(10deg)";
      } else {
        card.style.transform = "translateX(-120%) rotate(-10deg)";
      }
      card.style.opacity = "0";
      setTimeout(() => {
        card.remove();
        if (!getTopSwipeCard()) {
          swipeWrapper.innerHTML = `<p class="swipe-empty">${translations[currentLang].ui.swipeEmpty}</p>`;
          updateProfileAndFavorites();
        }
      }, 200);
    }

    likeBtn.addEventListener("click", () => handleSwipe(true));
    dislikeBtn.addEventListener("click", () => handleSwipe(false));

    // ===== CALCUL PROFIL =====
    function computeProfile() {
      scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };

      answersHistory.forEach(type => {
        if (scores[type] != null) scores[type]++;
      });

      swipeLikes.forEach(type => {
        if (scores[type] != null) scores[type]++;
      });

      let topType = "detox";
      let maxScore = -1;
      for (const [type, value] of Object.entries(scores)) {
        if (value > maxScore) {
          maxScore = value;
          topType = type;
        }
      }
      return topType;
    }

    function updateProfileAndFavorites() {
      const profileSet = translations[currentLang].profiles;
      const topType = computeProfile();
      const cfg = profileSet[topType];

      if (!answersHistory.length && !swipeLikes.length) {
        profileTypeEl.textContent = translations[currentLang].ui.profilePlaceholder;
        profileTagEl.style.display = "none";
        profileTextEl.textContent = "";
        favListEl.innerHTML = `<p style="font-size:0.8rem;font-family:Montserrat,system-ui,sans-serif;color:#6b645b;">${translations[currentLang].ui.matchIntro}</p>`;
        return;
      }

      profileTypeEl.textContent = cfg.label;
      profileTagEl.style.display = "inline-block";
      profileTagEl.textContent = cfg.tag;
      profileTextEl.textContent = cfg.description;

      favListEl.innerHTML = "";
      cfg.favorites.forEach(item => {
        const div = document.createElement("div");
        div.className = "fav-item";
        div.innerHTML = `
          <div class="fav-title">${item.title}</div>
          <div>${item.text}</div>
        `;
        favListEl.appendChild(div);
      });
    }

    // ===== QUIZ BTN SUIVANT =====
    nextBtn.addEventListener("click", () => {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        renderQuestion();
      } else {
        updateProfileAndFavorites();
        showView("profile");
      }
    });

    // ===== SETTINGS =====
    soundToggle.addEventListener("click", () => {
      soundOn = !soundOn;
      soundToggle.classList.toggle("active", soundOn);
    });

    restartBtn.addEventListener("click", () => {
      currentQuestion = 0;
      answersHistory = [];
      swipeLikes = [];
      scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };
      renderQuestion();
      renderSwipeCards();
      updateProfileAndFavorites();
      showView("quiz");
    });

    // ===== LANG SWITCH =====
    langButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const lang = btn.dataset.lang;
        if (lang === currentLang) return;

        currentLang = lang;
        langButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        buildQuestionsForLang(currentLang);
        currentQuestion = 0;
        answersHistory = [];
        swipeLikes = [];
        scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };

        applyUiTranslations();
        renderQuestion();
        renderSwipeCards();
        updateProfileAndFavorites();
        showView("quiz");
      });
    });

    // ===== INIT =====
    buildQuestionsForLang(currentLang);
    applyUiTranslations();
    renderQuestion();
    renderSwipeCards();
    updateProfileAndFavorites();
  </script>

