<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Serenity Woods ‚Äì Glamping Personality</title>
  <style>
    :root {
      --green: #1f4b2c;
      --brown: #8a5a33;
      --gold:  #c89b4a;
      --cream: #f5f1e8;
      --text:  #2b2b2b;
    }
    * { box-sizing: border-box; }

   body {
  margin: 0;
  font-family: "Georgia", serif;
  background: radial-gradient(circle at top, #fdf9f0 0, var(--cream) 45%, #ece1ce 100%);
  color: var(--text);
}

/* ton ‚Äúsite‚Äù centr√© avec largeur max */
.app-shell {
  width: 100%;
  max-width: 1200px;   /* large sur desktop */
  margin: 0 auto;      /* centr√© */
  min-height: 100vh;
  background: #fffdf8;
  border-radius: 0;    /* tu peux remettre du radius si tu veux un cadre */
  box-shadow: none;    /* ou garder un l√©ger shadow */
  border: none;
  display: flex;
  flex-direction: column;
}


    /* HEADER */
    .app-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 12px 6px;
      background: linear-gradient(120deg, #fdf7eb, #f3e7d4);
      border-bottom: 1px solid #e1d4c2;
      gap: 6px;
    }
    .app-header-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .app-brand {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .app-brand img.logo {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 2px solid var(--green);
      object-fit: cover;
    }
    .app-brand h1 {
      margin: 0;
      font-size: 1rem;
      color: var(--green);
    }
    .tagline {
      margin: 0;
      font-size: 0.7rem;
      color: #6a6359;
      font-family: "Montserrat", system-ui, sans-serif;
    }
    .lang-switcher {
      display: flex;
      gap: 4px;
      margin-left: 4px;
    }
    .lang-btn {
      border: 1px solid #d1c4b3;
      background: #fff8ee;
      border-radius: 999px;
      font-size: 0.65rem;
      font-family: "Montserrat", system-ui, sans-serif;
      padding: 2px 6px;
      cursor: pointer;
      color: #6a6359;
    }
    .lang-btn.active {
      background: #1f4b2c;
      color: #fff;
      border-color: #1f4b2c;
    }
    .profile-icon {
      border-radius: 999px;
      border: 1px solid #d1c4b3;
      background: #fff8ee;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.05rem;
    }

    /* TABS */
    .app-tabs {
      display: flex;
      border-top: 1px solid #e1d4c2;
      background: #f7efe2;
    }
    .tab {
      flex: 1;
      padding: 8px 4px 6px;
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: 0.7rem;
      font-family: "Montserrat", system-ui, sans-serif;
      color: #7a6e5e;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
    }
    .tab span.icon { font-size: 1rem; }
    .tab.active {
      color: var(--green);
      font-weight: 600;
      background: #fdf7ec;
      box-shadow: 0 -2px 0 var(--green) inset;
    }

    /* VUES */
    .views {
      flex: 1;
      padding: 14px 16px 6px;
      overflow-y: auto;
      background: radial-gradient(circle at top, #fefaf3, #f6eee1);
    }
    .view { display: none; }
    .view.active { display: block; }

    .card-shell {
      background: #ffffffdf;
      border-radius: 20px;
      padding: 16px 14px 18px;
      box-shadow: 0 10px 24px rgba(0,0,0,0.08);
      border: 1px solid #e5d8c4;
    }
    .section-title {
      font-size: 1rem;
      color: var(--green);
      margin: 0 0 4px;
    }
    .section-sub {
      margin: 0 0 12px;
      font-size: 0.8rem;
      color: #6b645b;
      font-family: "Montserrat", system-ui, sans-serif;
    }

    /* QUIZ */
    .quiz-progress {
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      margin-bottom: 8px;
    }
    .quiz-bar {
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: #e8ddcd;
      overflow: hidden;
      margin-top: 4px;
    }
    .quiz-fill {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, var(--brown), var(--gold));
      transition: width 0.25s ease;
    }
    .quiz-question {
      font-size: 0.95rem;
      margin: 12px 0 10px;
      color: #3c352d;
    }
    .quiz-answers {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .answer-btn {
      border-radius: 14px;
      padding: 10px;
      border: 1px solid #ddd0bf;
      background: #faf5ec;
      font-size: 0.82rem;
      font-family: "Montserrat", system-ui, sans-serif;
      text-align: left;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }
    .answer-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.1);
      border-color: var(--gold);
    }
    .answer-btn.selected {
      border-color: var(--green);
      background: #f1f7f3;
    }
    .quiz-cta {
      display: flex;
      justify-content: flex-end;
      margin-top: 10px;
    }
    .primary-btn {
      border-radius: 999px;
      border: none;
      background: linear-gradient(120deg, var(--green), var(--brown));
      color: #fff;
      font-size: 0.8rem;
      font-family: "Montserrat", system-ui, sans-serif;
      padding: 8px 16px;
      cursor: pointer;
    }
    .primary-btn:disabled {
      opacity: 0.5;
      cursor: default;
    }

    /* PROFILE */
    .profile-card { text-align: center; }
    .profile-type {
      font-size: 1.05rem;
      color: var(--green);
      margin-bottom: 4px;
    }
    .profile-tag {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 999px;
      background: #f5ebdc;
      border: 1px solid #e1d0b7;
      font-size: 0.7rem;
      font-family: "Montserrat", system-ui, sans-serif;
      color: #7a5f3a;
      margin-bottom: 8px;
    }
    .profile-text {
      font-size: 0.8rem;
      font-family: "Montserrat", system-ui, sans-serif;
      color: #5d554c;
      margin-bottom: 10px;
    }
    #profileMixBar {
      margin-top: 8px;
      display: flex;
      gap: 0;
      height: 6px;
      border-radius: 999px;
      overflow: hidden;
      background: #eee0cf;
    }

    /* FAVORITES */
    .fav-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 6px;
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
    }
    .fav-item {
      border-radius: 14px;
      padding: 10px;
      background: #faf4ea;
      border: 1px solid #e3d3c0;
    }
    .fav-title {
      font-weight: 600;
      color: var(--green);
      margin-bottom: 2px;
    }

    /* SETTINGS */
    .setting-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      border-bottom: 1px solid #eee0cf;
    }
    .toggle {
      position: relative;
      width: 38px;
      height: 20px;
      border-radius: 999px;
      background: #d1c2af;
      cursor: pointer;
    }
    .toggle::before {
      content: "";
      position: absolute;
      top: 2px;
      left: 2px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #fff;
      transition: transform 0.2s ease;
    }
    .toggle.active { background: #1f4b2c; }
    .toggle.active::before { transform: translateX(18px); }

    .secondary-btn {
      border-radius: 999px;
      border: 1px solid #d0c0aa;
      background: #f8eee1;
      font-size: 0.8rem;
      font-family: "Montserrat", system-ui, sans-serif;
      padding: 6px 12px;
      cursor: pointer;
      color: #5b4b3a;
    }

    /* SWIPE / GLAMPING MOOD CARDS */
    .swipe-wrapper {
      position: relative;
      width: 100%;
      height: 360px;
      margin-top: 8px;
      overflow: hidden;
    }
    .swipe-card {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 340px;
      height: 100%;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 10px 22px rgba(0,0,0,0.12);
      border: 1px solid #e3d3c0;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: transform 0.25s ease, opacity 0.25s ease;
    }
    .swipe-card img {
      width: 100%;
      height: 65%;
      object-fit: cover;
    }
    .swipe-badge {
      position: absolute;
      top: 12px;
      left: 12px;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 0.7rem;
      font-family: "Montserrat", system-ui, sans-serif;
      font-weight: 600;
      letter-spacing: 0.05em;
      opacity: 0;
      transition: opacity 0.15s ease;
    }
    .swipe-badge.like {
      background: #e6f5ea;
      color: #1f7a3b;
    }
    .swipe-badge.dislike {
      background: #fbe4e0;
      color: #b33939;
    }
    .swipe-card-body {
      padding: 8px 10px 10px;
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      color: #4c463f;
    }
    .swipe-label {
      font-weight: 600;
      color: var(--green);
      margin-bottom: 2px;
    }
    .swipe-tag {
      font-size: 0.7rem;
      color: #8a5a33;
      margin-bottom: 4px;
    }
    .swipe-cta-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 12px;
    }
    .swipe-btn {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 18px rgba(0,0,0,0.15);
    }
    .swipe-btn.dislike {
      background: #fbe4e0;
      color: #b33939;
    }
    .swipe-btn.like {
      background: #e6f5ea;
      color: #1f7a3b;
    }
    .swipe-empty {
      font-family: "Montserrat", system-ui, sans-serif;
      font-size: 0.8rem;
      color: #6b645b;
      text-align: center;
      margin-top: 40px;
    }

    @media (max-width: 480px) {
      .app-shell { max-width: 100%; height: 100vh; border-radius: 0; }
    }
	/* Layout global des vues sur grands √©crans */
@media (min-width: 768px) {
  .views {
    padding: 32px 40px 16px;
  }

  .card-shell {
    max-width: 700px;
    margin: 0 auto;
  }

  .app-header {
    padding: 16px 40px 10px;
  }
}

/* Encore plus large : tu peux mettre deux colonnes si tu veux */
@media (min-width: 1024px) {
  .views {
    display: flex;
    justify-content: center;
    align-items: flex-start;
  }

  .view.active {
    flex: 1;
    max-width: 700px;
  }
}
@media (min-width: 768px) {
  .swipe-wrapper {
    height: 420px;
  }
}

  </style>
</head>
<body>
  <div class="app-shell">
    <!-- HEADER -->
    <header class="app-header">
      <div class="app-header-left">
        <div class="app-brand">
          <img src="Logo SW.png" alt="Serenity Woods logo" class="logo">
          <div>
            <h1>Serenity Woods</h1>
            <p class="tagline">What‚Äôs your glamping personality?</p>
          </div>
        </div>
        <div class="lang-switcher">
          <button class="lang-btn active" data-lang="fr">FR</button>
          <button class="lang-btn" data-lang="en">EN</button>
          <button class="lang-btn" data-lang="nl">NL</button>
        </div>
      </div>
      <button class="profile-icon" data-view="profile">üë§</button>
    </header>

    <!-- VUES -->
    <div class="views">
      <!-- WELCOME / ENTER THE SILENCE -->
      <section class="view active" id="view-welcome">
        <div class="card-shell" style="text-align:center;">
          <h2 class="section-title" id="welcomeTitle">Enter the Silence</h2>
          <p class="section-sub" id="welcomeSubtitle">
            Take a breath, leave the noise at the gate.<br>
            Then discover your glamping personality.
          </p>
          <button id="enterBtn" class="primary-btn" style="margin-top:12px;">
            Enter the silence
          </button>
        </div>
      </section>

      <!-- QUIZ -->
      <section class="view" id="view-quiz">
        <div class="card-shell">
          <h2 class="section-title" id="quizTitle">Glamping Personality Quiz</h2>
          <p class="section-sub" id="quizSubtitle">
            R√©pondez √† 10 questions et d√©couvrez votre exp√©rience id√©ale √† Serenity Woods.
          </p>

          <div class="quiz-progress">
            <span id="quizStepLabel">Question 1 / 10</span>
            <div class="quiz-bar">
              <div class="quiz-fill" id="quizFill"></div>
            </div>
          </div>

          <div id="quizQuestion" class="quiz-question"></div>
          <div id="quizAnswers" class="quiz-answers"></div>

          <div class="quiz-cta">
            <button id="nextBtn" class="primary-btn" disabled>Suivant ‚Üí</button>
          </div>
        </div>
      </section>

      <!-- GLAMPING MOOD CARDS -->
      <section class="view" id="view-swipe">
        <div class="card-shell">
          <h2 class="section-title" id="swipeTitle">Glamping Mood Cards</h2>
          <p class="section-sub" id="swipeSubtitle">
            Swipez √† droite si vous aimez, √† gauche si ce n‚Äôest pas pour vous. Vos likes compl√®tent votre glamping personality.
          </p>

          <div class="swipe-wrapper" id="swipeWrapper">
            <p class="swipe-empty" id="swipeEmpty">Commencez √† swiper pour voir vos pr√©f√©rences.</p>
          </div>

          <div class="swipe-cta-row">
            <button class="swipe-btn dislike" id="dislikeBtn">‚úï</button>
            <button class="swipe-btn like" id="likeBtn">‚ô°</button>
          </div>
        </div>
      </section>

      <!-- PROFILE / RESULT -->
      <section class="view" id="view-profile">
        <div class="card-shell profile-card">
          <h2 class="section-title" id="profileTitle">Votre glamping personality</h2>
          <p class="section-sub" id="profileSubtitle">Bas√©e sur vos r√©ponses au quiz et vos mood cards.</p>

          <div id="profileType" class="profile-type">
            Commencez par le quiz ou les mood cards pour d√©couvrir votre profil.
          </div>
          <div id="profileTag" class="profile-tag" style="display:none;"></div>
          <p id="profileText" class="profile-text"></p>
          <div id="profileMixBar"></div>
        </div>
      </section>

      <!-- FAVORITES / MATCH -->
      <section class="view" id="view-favorites">
        <div class="card-shell">
          <h2 class="section-title" id="matchTitle">Your Serenity Woods match</h2>
          <p class="section-sub" id="matchSubtitle">Des exp√©riences recommand√©es selon votre glamping personality.</p>
          <div id="favList" class="fav-list">
            <p id="matchIntro" style="font-size:0.8rem;font-family:Montserrat,system-ui,sans-serif;color:#6b645b;">
              R√©pondez au quiz ou utilisez les Glamping Mood Cards pour voir les exp√©riences qui correspondent √† votre couple.
            </p>
          </div>
        </div>
      </section>

      <!-- SETTINGS -->
      <section class="view" id="view-settings">
        <div class="card-shell">
          <h2 class="section-title" id="settingsTitle">Settings</h2>
          <p class="section-sub" id="settingsSubtitle">Options simples pour votre exp√©rience.</p>

          <div class="setting-row">
            <span id="settingsSoundLabel">Sons du quiz</span>
            <div id="soundToggle" class="toggle"></div>
          </div>

          <div class="setting-row" style="border-bottom:none;">
            <span id="settingsReplayLabel">Rejouer le quiz</span>
            <button id="restartBtn" class="secondary-btn">Reset quiz</button>
          </div>
        </div>
      </section>
    </div>

    <!-- TABS -->
    <nav class="app-tabs">
      <button class="tab" data-view="welcome">
        <span class="icon">üåô</span>
        <span class="tab-label" id="tabWelcomeLabel">Intro</span>
      </button>
      <button class="tab" data-view="quiz">
        <span class="icon">‚ùì</span>
        <span class="tab-label" id="tabQuizLabel">Quiz</span>
      </button>
      <button class="tab" data-view="swipe">
        <span class="icon">üì∑</span>
        <span class="tab-label" id="tabSwipeLabel">Mood</span>
      </button>
      <button class="tab" data-view="favorites">
        <span class="icon">‚ú®</span>
        <span class="tab-label" id="tabMatchLabel">Match</span>
      </button>
      <button class="tab" data-view="settings">
        <span class="icon">‚öôÔ∏è</span>
        <span class="tab-label" id="tabSettingsLabel">Settings</span>
      </button>
    </nav>
  </div>

  <script>
    /* ===== CONFIG SIMPLE ‚Äì UNIQUEMENT FR pour l‚Äôinstant ===== */
    const questions = [
      {
        text: "Quand vous pensez √† un week-end id√©al, vous imaginez plut√¥t :",
        answers: [
          { text: "Une cabane isol√©e, sans voisins, juste les arbres", type: "detox" },
          { text: "Un lodge avec bain chaud et d√Æner aux chandelles", type: "romantic" },
          { text: "Des activit√©s en pleine nature, chemins, v√©lo, kayak", type: "adventure" },
          { text: "Un h√©bergement confortable, proche de quelques services", type: "comfort" }
        ]
      },
      {
        text: "Le matin, votre mood :",
        answers: [
          { text: "R√©veil naturel, aucun r√©veil, juste le silence", type: "detox" },
          { text: "Petit-d√©jeuner au lit avec vue, ambiance cosy", type: "romantic" },
          { text: "Lever t√¥t pour profiter au maximum des activit√©s", type: "adventure" },
          { text: "Grasse matin√©e puis balade tranquille dans les bois", type: "comfort" }
        ]
      },
      {
        text: "Votre rapport au t√©l√©phone en week-end :",
        answers: [
          { text: "Mode avion quasi tout le week-end", type: "detox" },
          { text: "Quelques photos √† deux, puis t√©l√©phone rang√©", type: "romantic" },
          { text: "Photos, vid√©os et carte pour explorer les environs", type: "adventure" },
          { text: "Je le garde pour le confort (infos pratiques, musique)", type: "comfort" }
        ]
      },
      {
        text: "Le soir, votre moment pr√©f√©r√© :",
        answers: [
          { text: "Lecture pr√®s du feu, sans bruit ext√©rieur", type: "detox" },
          { text: "D√Æner aux chandelles, ambiance intimiste", type: "romantic" },
          { text: "Derni√®re balade, feu de camp, regarder les √©toiles", type: "adventure" },
          { text: "Film, plaid, snacks gourmands dans un lodge douillet", type: "comfort" }
        ]
      },
      {
        text: "Niveau activit√©s, vous √™tes plut√¥t :",
        answers: [
          { text: "Slow, yoga, respiration, marche lente en for√™t", type: "detox" },
          { text: "Moments √† deux, spa, massages, temps de qualit√©", type: "romantic" },
          { text: "Randonn√©es, points de vue, sensation d‚Äôexploration", type: "adventure" },
          { text: "Un m√©lange de petites activit√©s et beaucoup de chill", type: "comfort" }
        ]
      },
      {
        text: "Votre h√©bergement id√©al √† Serenity Woods :",
        answers: [
          { text: "Cabane minimaliste, loin de tout, pas de vis-√†-vis", type: "detox" },
          { text: "Lodge romantique avec bain nordique ou jacuzzi priv√©", type: "romantic" },
          { text: "Cabane perch√©e ou spot avec acc√®s direct aux sentiers", type: "adventure" },
          { text: "Tiny house confortable avec belle literie et vue", type: "comfort" }
        ]
      },
      {
        text: "Quand vous pensez au mot ¬´ luxe ¬ª, vous voyez :",
        answers: [
          { text: "Le temps, le calme, aucun planning", type: "detox" },
          { text: "Des attentions, des d√©tails, une ambiance pens√©e pour le couple", type: "romantic" },
          { text: "La libert√© d‚Äôexplorer, de tester, de bouger", type: "adventure" },
          { text: "Le confort, la chaleur, la sensation de cocon", type: "comfort" }
        ]
      },
      {
        text: "Votre activit√© signature √† Serenity Woods serait :",
        answers: [
          { text: "D√©connexion totale : respiration, journal, sieste en hamac", type: "detox" },
          { text: "Bain chaud ext√©rieur au coucher du soleil, √† deux", type: "romantic" },
          { text: "Boucle de randonn√©e avec spots panoramiques", type: "adventure" },
          { text: "Brunch tardif, promenade, jeux de soci√©t√© dans la cabane", type: "comfort" }
        ]
      },
      {
        text: "En couple, vous cherchez surtout :",
        answers: [
          { text: "Un endroit pour vraiment se recentrer ensemble", type: "detox" },
          { text: "Des moments intenses, complices, en mode parenth√®se √† deux", type: "romantic" },
          { text: "Des souvenirs d‚Äôaventure √† raconter ensuite", type: "adventure" },
          { text: "Un espace s√©curisant o√π on se sent bien tous les deux", type: "comfort" }
        ]
      },
      {
        text: "Si vous deviez d√©crire votre vibe en un mot :",
        answers: [
          { text: "Slow & minimaliste", type: "detox" },
          { text: "Intense & amoureux", type: "romantic" },
          { text: "Curieux & dynamique", type: "adventure" },
          { text: "Cosy & chill", type: "comfort" }
        ]
      }
    ];

    const moodCards = [
      { type: "detox", title: "Cabane en pleine for√™t", tag: "Silence absolu", text: "Cabane isol√©e, entour√©e d‚Äôarbres.", image: "image-detox-1.jpg" },
      { type: "romantic", title: "Bain nordique au coucher du soleil", tag: "Romantic spa", text: "Bain chaud ext√©rieur avec vue.", image: "image-romantic-1.jpg" },
      { type: "adventure", title: "Randonn√©e panoramique", tag: "Nature aventure", text: "Sentier avec vue sur la vall√©e.", image: "image-adventure-1.jpg" },
      { type: "comfort", title: "Tiny house cocoon", tag: "Cosy & chill", text: "Int√©rieur chaleureux, grande literie.", image: "image-comfort-1.jpg" },
      { type: "detox", title: "Hamac entre les pins", tag: "Digital detox", text: "Sieste sans notifications.", image: "image-detox-2.jpg" },
      { type: "romantic", title: "D√Æner aux chandelles", tag: "Couple time", text: "Table pour deux, produits locaux.", image: "image-romantic-2.jpg" }
    ];

    const profiles = {
      detox: {
        label: "Digital Detox Lovers",
        tag: "Silence ‚Ä¢ Nature ‚Ä¢ Slow",
        description:
          "Vous r√™vez d‚Äôun week-end o√π le temps ralentit vraiment : peu d‚Äô√©crans, beaucoup de nature, des cabanes isol√©es et un cadre pens√© pour respirer √† deux.",
        favorites: [
          {
            title: "Cabane Deep Forest",
            text: "Cabane isol√©e, aucune route visible, acc√®s direct aux sentiers et espace feu de camp pour se reconnecter loin du bruit."
          },
          {
            title: "Rituel Digital Detox",
            text: "Carnet, tisane et micro-rituels pour couper les notifications et se reconnecter √† soi et √† l‚Äôautre."
          }
        ]
      },
      romantic: {
        label: "Romantic Escapists",
        tag: "Couple time ‚Ä¢ Intimit√©",
        description:
          "Votre priorit√© : cr√©er une parenth√®se √† deux, avec des attentions, une ambiance cosy et des moments qui renforcent la complicit√©.",
        favorites: [
          {
            title: "Lodge Moonlight",
            text: "Lodge avec bain nordique priv√©, √©clairages doux, playlist cosy et vue d√©gag√©e."
          },
          {
            title: "Signature Romantic Dinner",
            text: "D√Æner aux chandelles en lodge, produits locaux et ambiance intimiste."
          }
        ]
      },
      adventure: {
        label: "Nature Adventurers",
        tag: "Exploration ‚Ä¢ Outdoor",
        description:
          "Vous venez chercher des sensations, des sentiers, des panoramas et la satisfaction d‚Äôavoir vraiment explor√© les alentours.",
        favorites: [
          {
            title: "Cabane Panorama Trail",
            text: "Cabane perch√©e proche des d√©parts de randonn√©e, avec cartes de sentiers et spots secrets."
          },
          {
            title: "Adventure Pack",
            text: "Boucles √† pied ou √† v√©lo, snack √©nerg√©tique et conseils pour profiter de chaque journ√©e dehors."
          }
        ]
      },
      comfort: {
        label: "Cosy Comfort Seekers",
        tag: "Cocon ‚Ä¢ Bien-√™tre",
        description:
          "Vous cherchez surtout un cocon chaleureux : belle literie, bons repas, temps pour se poser et se faire plaisir sans pression.",
        favorites: [
          {
            title: "Tiny House Cocoon",
            text: "Tiny house lumineuse, literie haut de gamme, plaid, grande baie vitr√©e et petit-d√©jeuner livr√©."
          },
          {
            title: "Slow Sunday Pack",
            text: "Brunch tardif, jeux, promenades douces et ambiance chill toute la journ√©e."
          }
        ]
      }
    };

    // √âTAT
    let currentQuestion = 0;
    let answersHistory = [];
    let moodLikes = [];
    let scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };

    // DOM
    const views = document.querySelectorAll(".view");
    const tabs = document.querySelectorAll(".tab");
    const enterBtn = document.getElementById("enterBtn");
    const profileIcon = document.querySelector(".profile-icon");

    const quizStepLabel = document.getElementById("quizStepLabel");
    const quizFill = document.getElementById("quizFill");
    const quizQuestion = document.getElementById("quizQuestion");
    const quizAnswers = document.getElementById("quizAnswers");
    const nextBtn = document.getElementById("nextBtn");

    const swipeWrapper = document.getElementById("swipeWrapper");
    const swipeEmptyEl = document.getElementById("swipeEmpty");
    const likeBtn = document.getElementById("likeBtn");
    const dislikeBtn = document.getElementById("dislikeBtn");

    const profileTypeEl = document.getElementById("profileType");
    const profileTagEl = document.getElementById("profileTag");
    const profileTextEl = document.getElementById("profileText");
    const profileMixBar = document.getElementById("profileMixBar");
    const favListEl = document.getElementById("favList");
    const matchIntroEl = document.getElementById("matchIntro");

    const soundToggle = document.getElementById("soundToggle");
    const restartBtn = document.getElementById("restartBtn");

    const langButtons = document.querySelectorAll(".lang-btn");
    const tabWelcomeLabel = document.getElementById("tabWelcomeLabel");
    const tabQuizLabel = document.getElementById("tabQuizLabel");
    const tabSwipeLabel = document.getElementById("tabSwipeLabel");
    const tabMatchLabel = document.getElementById("tabMatchLabel");
    const tabSettingsLabel = document.getElementById("tabSettingsLabel");

    // NAVIGATION
    function showView(id) {
      views.forEach(v => v.classList.remove("active"));
      document.getElementById("view-" + id).classList.add("active");
      tabs.forEach(t => t.classList.toggle("active", t.dataset.view === id));
    }

    tabs.forEach(tab => {
      tab.addEventListener("click", () => showView(tab.dataset.view));
    });

    profileIcon.addEventListener("click", () => showView("profile"));
    enterBtn.addEventListener("click", () => showView("quiz"));

    // QUIZ
    function renderQuestion() {
      const q = questions[currentQuestion];
      quizQuestion.textContent = q.text;
      quizAnswers.innerHTML = "";
      nextBtn.disabled = true;

      q.answers.forEach(ans => {
        const btn = document.createElement("button");
        btn.className = "answer-btn";
        btn.textContent = ans.text;
        btn.addEventListener("click", () => {
          document.querySelectorAll(".answer-btn").forEach(b => b.classList.remove("selected"));
          btn.classList.add("selected");
          answersHistory[currentQuestion] = ans.type;
          nextBtn.disabled = false;
        });
        quizAnswers.appendChild(btn);
      });

      quizStepLabel.textContent = `Question ${currentQuestion + 1} / ${questions.length}`;
      quizFill.style.width = ((currentQuestion + 1) / questions.length) * 100 + "%";
    }

    nextBtn.addEventListener("click", () => {
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        renderQuestion();
      } else {
        updateProfileAndFavorites();
        showView("profile");
      }
    });

    // MOOD CARDS
    function renderMoodCards() {
      swipeWrapper.innerHTML = "";
      moodLikes = [];

      if (!moodCards.length) {
        swipeWrapper.innerHTML = `<p class="swipe-empty">Aucune carte pour l‚Äôinstant.</p>`;
        return;
      }

      // Du bas vers le haut
      for (let i = moodCards.length - 1; i >= 0; i--) {
        const c = moodCards[i];
        const card = document.createElement("div");
        card.className = "swipe-card";
        card.dataset.type = c.type;
        card.innerHTML = `
          <img src="${c.image}" alt="${c.title}">
          <div class="swipe-badge like">LIKE</div>
          <div class="swipe-badge dislike">NOPE</div>
          <div class="swipe-card-body">
            <div class="swipe-label">${c.title}</div>
            <div class="swipe-tag">${c.tag}</div>
            <div>${c.text}</div>
          </div>
        `;
        swipeWrapper.appendChild(card);
      }
    }

    function getTopCard() {
      const cards = swipeWrapper.querySelectorAll(".swipe-card");
      if (!cards.length) return null;
      return cards[cards.length - 1];
    }

    function swipe(liked) {
      const card = getTopCard();
      if (!card) return;

      const likeBadge = card.querySelector(".swipe-badge.like");
      const dislikeBadge = card.querySelector(".swipe-badge.dislike");

      if (liked) {
        moodLikes.push(card.dataset.type);
        likeBadge.style.opacity = "1";
        card.style.transform = "translateX(120%) rotate(10deg)";
      } else {
        dislikeBadge.style.opacity = "1";
        card.style.transform = "translateX(-120%) rotate(-10deg)";
      }
      card.style.opacity = "0";

      setTimeout(() => {
        card.remove();
        if (!getTopCard()) {
          swipeWrapper.innerHTML = `<p class="swipe-empty">Vous avez vu toutes les cartes. Consultez votre profil.</p>`;
          updateProfileAndFavorites();
        }
      }, 220);
    }

    likeBtn.addEventListener("click", () => swipe(true));
    dislikeBtn.addEventListener("click", () => swipe(false));

    // PROFIL
    function computeScores() {
      scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };
      answersHistory.forEach(t => { if (scores[t] != null) scores[t]++; });
      moodLikes.forEach(t => { if (scores[t] != null) scores[t]++; });
    }

    function getTopType() {
      computeScores();
      let max = -1;
      let top = "detox";
      Object.entries(scores).forEach(([type, value]) => {
        if (value > max) {
          max = value;
          top = type;
        }
      });
      return top;
    }

    function updateProfileAndFavorites() {
      if (!answersHistory.length && !moodLikes.length) {
        profileTypeEl.textContent = "Commencez par le quiz ou les mood cards pour d√©couvrir votre profil.";
        profileTagEl.style.display = "none";
        profileTextEl.textContent = "";
        profileMixBar.innerHTML = "";
        favListEl.innerHTML = "";
        favListEl.appendChild(matchIntroEl);
        return;
      }

      const topType = getTopType();
      const cfg = profiles[topType];

      profileTypeEl.textContent = cfg.label;
      profileTagEl.style.display = "inline-block";
      profileTagEl.textContent = cfg.tag;
      profileTextEl.textContent = cfg.description;

      // favoris
      favListEl.innerHTML = "";
      cfg.favorites.forEach(item => {
        const div = document.createElement("div");
        div.className = "fav-item";
        div.innerHTML = `<div class="fav-title">${item.title}</div><div>${item.text}</div>`;
        favListEl.appendChild(div);
      });

      // barre mix
      profileMixBar.innerHTML = "";
      const total = scores.detox + scores.romantic + scores.adventure + scores.comfort || 1;
      const segments = [
        { key: "detox", color: "#4f7c5b" },
        { key: "romantic", color: "#c96a6a" },
        { key: "adventure", color: "#4a6fae" },
        { key: "comfort", color: "#c89b4a" }
      ];
      segments.forEach(seg => {
        const width = (scores[seg.key] / total) * 100;
        const bar = document.createElement("div");
        bar.style.width = width + "%";
        bar.style.background = seg.color;
        profileMixBar.appendChild(bar);
      });
    }

    // SETTINGS
    soundToggle.addEventListener("click", () => {
      soundToggle.classList.toggle("active");
    });

    restartBtn.addEventListener("click", () => {
      currentQuestion = 0;
      answersHistory = [];
      moodLikes = [];
      scores = { detox: 0, romantic: 0, adventure: 0, comfort: 0 };
      renderQuestion();
      renderMoodCards();
      updateProfileAndFavorites();
      showView("quiz");
    });

    // LANG switch ‚Äì ici purement visuel (on ne traduit pas encore tous les textes)
    langButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        langButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        // tu pourras plus tard brancher une vraie traduction ici
      });
    });

    // INIT
    renderQuestion();
    renderMoodCards();
    updateProfileAndFavorites();
    showView("welcome");
  </script>
</body>
</html>

